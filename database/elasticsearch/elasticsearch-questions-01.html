<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://javaguide.cn/database/elasticsearch/elasticsearch-questions-01.html"><meta property="og:site_name" content="çŸ¥è¯†åº“"><meta property="og:title" content="Elasticsearchå¸¸è§é¢è¯•é¢˜æ€»ç»“"><meta property="og:description" content="Elasticsearch åŸºç¡€ Elasticsearch æ˜¯ä»€ä¹ˆï¼Ÿ ElasticSearch æ˜¯ä¸€ä¸ªå¼€æºçš„ åˆ†å¸ƒå¼ã€RESTful æœç´¢å’Œåˆ†æå¼•æ“ï¼Œå¯ä»¥ç”¨æ¥è§£å†³ä½¿ç”¨æ•°æ®åº“è¿›è¡Œæ¨¡ç³Šæœç´¢æ—¶å­˜åœ¨çš„æ€§èƒ½é—®é¢˜ï¼Œé€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€æ•°å­—ã€åœ°ç†ç©ºé—´ã€ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®ã€‚"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-03-21T15:29:46.000Z"><meta property="article:tag" content="NoSQL"><meta property="article:tag" content="Elasticsearch"><meta property="article:modified_time" content="2023-03-21T15:29:46.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Elasticsearchå¸¸è§é¢è¯•é¢˜æ€»ç»“","image":[""],"dateModified":"2023-03-21T15:29:46.000Z","author":[]}</script><meta name="robots" content="all"><meta name="author" content="Guide"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="JavaåŸºç¡€, å¤šçº¿ç¨‹, JVM, è™šæ‹Ÿæœº, æ•°æ®åº“, MySQL, Spring, Redis, MyBatis, ç³»ç»Ÿè®¾è®¡, åˆ†å¸ƒå¼, RPC, é«˜å¯ç”¨, é«˜å¹¶å‘"><meta name="apple-mobile-web-app-capable" content="yes"><script>var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();</script><link rel="stylesheet" href="/iconfont/iconfont.css"><title>Elasticsearchå¸¸è§é¢è¯•é¢˜æ€»ç»“ | çŸ¥è¯†åº“</title><meta name="description" content="Elasticsearch åŸºç¡€ Elasticsearch æ˜¯ä»€ä¹ˆï¼Ÿ ElasticSearch æ˜¯ä¸€ä¸ªå¼€æºçš„ åˆ†å¸ƒå¼ã€RESTful æœç´¢å’Œåˆ†æå¼•æ“ï¼Œå¯ä»¥ç”¨æ¥è§£å†³ä½¿ç”¨æ•°æ®åº“è¿›è¡Œæ¨¡ç³Šæœç´¢æ—¶å­˜åœ¨çš„æ€§èƒ½é—®é¢˜ï¼Œé€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€æ•°å­—ã€åœ°ç†ç©ºé—´ã€ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®ã€‚">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-d8288b06.css" as="style"><link rel="stylesheet" href="/assets/style-d8288b06.css">
    <link rel="modulepreload" href="/assets/app-9fa3d026.js"><link rel="modulepreload" href="/assets/framework-f0219f66.js"><link rel="modulepreload" href="/assets/elasticsearch-questions-01.html-5ffe5eb2.js"><link rel="modulepreload" href="/assets/elasticsearch-questions-01.html-861ce75a.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="çŸ¥è¯†åº“"><!----><span class="site-name hide-in-pad">çŸ¥è¯†åº“</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" aria-label="å­¦ä¹ æŒ‡å—"><span class="font-icon icon iconfont icon-java" style=""></span>å­¦ä¹ æŒ‡å—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/open-source-project/" class="nav-link" aria-label="å¼€æºé¡¹ç›®"><span class="font-icon icon iconfont icon-github" style=""></span>å¼€æºé¡¹ç›®<!----></a></div><div class="nav-item hide-in-mobile"><a href="/books/" class="nav-link" aria-label="æŠ€æœ¯ä¹¦ç±"><span class="font-icon icon iconfont icon-book" style=""></span>æŠ€æœ¯ä¹¦ç±<!----></a></div><div class="nav-item hide-in-mobile"><a href="/high-quality-technical-articles/" class="nav-link" aria-label="æŠ€æœ¯æ–‡ç« "><span class="font-icon icon iconfont icon-article" style=""></span>æŠ€æœ¯æ–‡ç« <!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/diving-cloud/diving-cloud.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-interview" style=""></span><span class="title">å¯èˆª</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-java" style=""></span><span class="title">Java</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-computer" style=""></span><span class="title">è®¡ç®—æœºåŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-database" style=""></span><span class="title">æ•°æ®åº“</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-basic" style=""></span><span class="title">åŸºç¡€</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/database/basis.html" class="nav-link sidebar-link sidebar-page" aria-label="æ•°æ®åº“åŸºç¡€çŸ¥è¯†æ€»ç»“"><!---->æ•°æ®åº“åŸºç¡€çŸ¥è¯†æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/database/nosql.html" class="nav-link sidebar-link sidebar-page" aria-label="NoSQLåŸºç¡€çŸ¥è¯†æ€»ç»“"><!---->NoSQLåŸºç¡€çŸ¥è¯†æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/database/character-set.html" class="nav-link sidebar-link sidebar-page" aria-label="å­—ç¬¦é›†è¯¦è§£"><!---->å­—ç¬¦é›†è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-SQL" style=""></span><span class="title">SQL</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-mysql" style=""></span><span class="title">MySQL</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/database/mysql/mysql-questions-01.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLå¸¸è§é¢è¯•é¢˜æ€»ç»“"><!---->MySQLå¸¸è§é¢è¯•é¢˜æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/database/mysql/mysql-high-performance-optimization-specification-recommendations.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®æ€»ç»“"><!---->MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-star" style=""></span><span class="title">é‡è¦çŸ¥è¯†ç‚¹</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-redis" style=""></span><span class="title">Redis</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/database/redis/cache-basics.html" class="nav-link sidebar-link sidebar-page" aria-label="ç¼“å­˜åŸºç¡€å¸¸è§é¢è¯•é¢˜æ€»ç»“(ä»˜è´¹)"><!---->ç¼“å­˜åŸºç¡€å¸¸è§é¢è¯•é¢˜æ€»ç»“(ä»˜è´¹)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/database/redis/redis-questions-01.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså¸¸è§é¢è¯•é¢˜æ€»ç»“(ä¸Š)"><!---->Rediså¸¸è§é¢è¯•é¢˜æ€»ç»“(ä¸Š)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/database/redis/redis-questions-02.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså¸¸è§é¢è¯•é¢˜æ€»ç»“(ä¸‹)"><!---->Rediså¸¸è§é¢è¯•é¢˜æ€»ç»“(ä¸‹)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-star" style=""></span><span class="title">é‡è¦çŸ¥è¯†ç‚¹</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-elasticsearch" style=""></span><span class="title">Elasticsearch</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Elasticsearchå¸¸è§é¢è¯•é¢˜æ€»ç»“"><!---->Elasticsearchå¸¸è§é¢è¯•é¢˜æ€»ç»“<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-åŸºç¡€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch åŸºç¡€"><!---->Elasticsearch åŸºç¡€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch æ˜¯ä»€ä¹ˆï¼Ÿ"><!---->Elasticsearch æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#lucene-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Lucene æ˜¯ä»€ä¹ˆï¼Ÿ"><!---->Lucene æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ"><!---->Elasticsearch å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä¸ºä»€ä¹ˆéœ€è¦-elasticsearch-mysql-ä¸è¡Œå—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ºä»€ä¹ˆéœ€è¦ Elasticsearchï¼ŸMySQL ä¸è¡Œå—ï¼Ÿ"><!---->ä¸ºä»€ä¹ˆéœ€è¦ Elasticsearchï¼ŸMySQL ä¸è¡Œå—ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-ä¸­çš„åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch ä¸­çš„åŸºæœ¬æ¦‚å¿µ"><!---->Elasticsearch ä¸­çš„åŸºæœ¬æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•"><!---->å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿ"><!---->å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆï¼Ÿ"><!---->å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆï¼Ÿ"><!---->å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><!---->å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—ï¼Ÿ"><!---->Elasticsearch å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†è¯å™¨-analyzer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ†è¯å™¨(Analyzer)"><!---->åˆ†è¯å™¨(Analyzer)<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><!---->åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›?"><!---->å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆï¼Ÿ"><!---->åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢ï¼Ÿ"><!---->Elasticsearch å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æ•°æ®ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®ç±»å‹"><!---->æ•°æ®ç±»å‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"><!---->Elasticsearch å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#keyword-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="keyword å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><!---->keyword å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-æ˜¯å¦æœ‰æ•°ç»„ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch æ˜¯å¦æœ‰æ•°ç»„ç±»å‹ï¼Ÿ"><!---->Elasticsearch æ˜¯å¦æœ‰æ•°ç»„ç±»å‹ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¯ä»¥åœ¨-mapping-ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¯ä»¥åœ¨ Mapping ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—ï¼Ÿ"><!---->å¯ä»¥åœ¨ Mapping ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä»€ä¹ˆæ˜¯-nested-æ•°æ®ç±»å‹-æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä»€ä¹ˆæ˜¯ Nested æ•°æ®ç±»å‹ï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><!---->ä»€ä¹ˆæ˜¯ Nested æ•°æ®ç±»å‹ï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#mapping" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mapping"><!---->Mapping<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä»€ä¹ˆæ˜¯-mapping" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä»€ä¹ˆæ˜¯ Mapping?"><!---->ä»€ä¹ˆæ˜¯ Mapping?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š-mapping" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š Mappingï¼Ÿ"><!---->ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š Mappingï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æœ‰è‡ªå®šä¹‰è¿‡-mapping-å—-ä½ æ˜¯æ€ä¹ˆåšçš„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœ‰è‡ªå®šä¹‰è¿‡ Mapping å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ"><!---->æœ‰è‡ªå®šä¹‰è¿‡ Mapping å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åŠ¨æ€-mapping-æœ‰å‡ ç§å±æ€§é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŠ¨æ€ Mapping æœ‰å‡ ç§å±æ€§é…ç½®ï¼Ÿ"><!---->åŠ¨æ€ Mapping æœ‰å‡ ç§å±æ€§é…ç½®ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åŠ¨æ€-mapping-å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŠ¨æ€ Mapping å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ ï¼Ÿ"><!---->åŠ¨æ€ Mapping å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåš" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåšï¼Ÿ"><!---->æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåšï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æŸ¥è¯¢è¯­å¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æŸ¥è¯¢è¯­å¥"><!---->æŸ¥è¯¢è¯­å¥<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»ï¼Ÿ"><!---->æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#term-æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Term æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«ï¼Ÿ"><!---->Term æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢ï¼Ÿ"><!---->å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#match-å’Œ-match-phrase-åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Match å’Œ Match_phrase åŒºåˆ«ï¼Ÿ"><!---->Match å’Œ Match_phrase åŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#multi-match-æœ‰å‡ ç§åŒ¹é…ç­–ç•¥-éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Multi match æœ‰å‡ ç§åŒ¹é…ç­–ç•¥ï¼Œéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><!---->Multi match æœ‰å‡ ç§åŒ¹é…ç­–ç•¥ï¼Œéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#bool-æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="bool æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥ï¼Ÿ"><!---->bool æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æ•°æ®åŒæ­¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®åŒæ­¥"><!---->æ•°æ®åŒæ­¥<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å’Œ-mysql-åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch å’Œ MySQL åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ"><!---->Elasticsearch å’Œ MySQL åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#canal-å¢é‡æ•°æ®åŒæ­¥-elasticsearch-çš„åŸç†äº†è§£å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Canal å¢é‡æ•°æ®åŒæ­¥ Elasticsearch çš„åŸç†äº†è§£å—ï¼Ÿ"><!---->Canal å¢é‡æ•°æ®åŒæ­¥ Elasticsearch çš„åŸç†äº†è§£å—ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch é›†ç¾¤"><!---->Elasticsearch é›†ç¾¤<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch é›†ç¾¤æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><!---->Elasticsearch é›†ç¾¤æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›ï¼Ÿ"><!---->Elasticsearch é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†ç‰‡æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ†ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><!---->åˆ†ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡ï¼Ÿ"><!---->æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ"><!---->è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¦‚ä½•æŸ¥çœ‹-elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•æŸ¥çœ‹ Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€ï¼Ÿ"><!---->å¦‚ä½•æŸ¥çœ‹ Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§ï¼Ÿ"><!---->Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¦‚ä½•åˆ†æ-elasticsearch-é›†ç¾¤å¼‚å¸¸é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•åˆ†æ Elasticsearch é›†ç¾¤å¼‚å¸¸é—®é¢˜ï¼Ÿ"><!---->å¦‚ä½•åˆ†æ Elasticsearch é›†ç¾¤å¼‚å¸¸é—®é¢˜ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ€§èƒ½ä¼˜åŒ–"><!---->æ€§èƒ½ä¼˜åŒ–<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®ï¼Ÿ"><!---->Elasticsearch å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ"><!---->Elasticsearch ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearch æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ"><!---->Elasticsearch æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å‚è€ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒ"><!---->å‚è€ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-mongodb" style=""></span><span class="title">MongoDB</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-framework" style=""></span><span class="title">å¸¸ç”¨æ¡†æ¶</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-xitongsheji" style=""></span><span class="title">ç³»ç»Ÿè®¾è®¡</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="title">åˆ†å¸ƒå¼</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-et-performance" style=""></span><span class="title">é«˜æ€§èƒ½</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-highavailable" style=""></span><span class="title">é«˜å¯ç”¨</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="title">å¼€å‘å·¥å…·</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Elasticsearchå¸¸è§é¢è¯•é¢˜æ€»ç»“</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://javaguide.cn/article/" target="_blank" rel="noopener noreferrer">winter</a></span><span property="author" content="winter"></span></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category6 clickable" role="navigation">æ•°æ®åº“</span><meta property="articleSection" content="æ•°æ®åº“"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag7 clickable" role="navigation">NoSQL</span><span class="page-tag-item tag5 clickable" role="navigation">Elasticsearch</span><meta property="keywords" content="NoSQL,Elasticsearch"></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-01-29T03:31:13.000Z"></span><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 10677 å­—</span><meta property="wordCount" content="10677"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 36 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT36M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-åŸºç¡€" class="router-link-active router-link-exact-active toc-link level2">Elasticsearch åŸºç¡€</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#lucene-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">Lucene æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä¸ºä»€ä¹ˆéœ€è¦-elasticsearch-mysql-ä¸è¡Œå—" class="router-link-active router-link-exact-active toc-link level3">ä¸ºä»€ä¹ˆéœ€è¦ Elasticsearchï¼ŸMySQL ä¸è¡Œå—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-ä¸­çš„åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch ä¸­çš„åŸºæœ¬æ¦‚å¿µ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•" class="router-link-active router-link-exact-active toc-link level2">å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆ" class="router-link-active router-link-exact-active toc-link level3">å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†è¯å™¨-analyzer" class="router-link-active router-link-exact-active toc-link level2">åˆ†è¯å™¨(Analyzer)</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active toc-link level3">åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆ" class="router-link-active router-link-exact-active toc-link level3">åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æ•°æ®ç±»å‹" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®ç±»å‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#keyword-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">keyword å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-æ˜¯å¦æœ‰æ•°ç»„ç±»å‹" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch æ˜¯å¦æœ‰æ•°ç»„ç±»å‹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¯ä»¥åœ¨-mapping-ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—" class="router-link-active router-link-exact-active toc-link level3">å¯ä»¥åœ¨ Mapping ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä»€ä¹ˆæ˜¯-nested-æ•°æ®ç±»å‹-æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active toc-link level3">ä»€ä¹ˆæ˜¯ Nested æ•°æ®ç±»å‹ï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#mapping" class="router-link-active router-link-exact-active toc-link level2">Mapping</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä»€ä¹ˆæ˜¯-mapping" class="router-link-active router-link-exact-active toc-link level3">ä»€ä¹ˆæ˜¯ Mapping?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š-mapping" class="router-link-active router-link-exact-active toc-link level3">ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š Mappingï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æœ‰è‡ªå®šä¹‰è¿‡-mapping-å—-ä½ æ˜¯æ€ä¹ˆåšçš„" class="router-link-active router-link-exact-active toc-link level3">æœ‰è‡ªå®šä¹‰è¿‡ Mapping å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åŠ¨æ€-mapping-æœ‰å‡ ç§å±æ€§é…ç½®" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æ€ Mapping æœ‰å‡ ç§å±æ€§é…ç½®ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åŠ¨æ€-mapping-å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ " class="router-link-active router-link-exact-active toc-link level3">åŠ¨æ€ Mapping å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåš" class="router-link-active router-link-exact-active toc-link level3">æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåšï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æŸ¥è¯¢è¯­å¥" class="router-link-active router-link-exact-active toc-link level2">æŸ¥è¯¢è¯­å¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»" class="router-link-active router-link-exact-active toc-link level3">æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#term-æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">Term æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢" class="router-link-active router-link-exact-active toc-link level3">å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#match-å’Œ-match-phrase-åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">Match å’Œ Match_phrase åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#multi-match-æœ‰å‡ ç§åŒ¹é…ç­–ç•¥-éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">Multi match æœ‰å‡ ç§åŒ¹é…ç­–ç•¥ï¼Œéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#bool-æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥" class="router-link-active router-link-exact-active toc-link level3">bool æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æ•°æ®åŒæ­¥" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®åŒæ­¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å’Œ-mysql-åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch å’Œ MySQL åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#canal-å¢é‡æ•°æ®åŒæ­¥-elasticsearch-çš„åŸç†äº†è§£å—" class="router-link-active router-link-exact-active toc-link level3">Canal å¢é‡æ•°æ®åŒæ­¥ Elasticsearch çš„åŸç†äº†è§£å—ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤" class="router-link-active router-link-exact-active toc-link level2">Elasticsearch é›†ç¾¤</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch é›†ç¾¤æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#åˆ†ç‰‡æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" class="router-link-active router-link-exact-active toc-link level3">åˆ†ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡" class="router-link-active router-link-exact-active toc-link level3">æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„" class="router-link-active router-link-exact-active toc-link level3">è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¦‚ä½•æŸ¥çœ‹-elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€" class="router-link-active router-link-exact-active toc-link level3">å¦‚ä½•æŸ¥çœ‹ Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å¦‚ä½•åˆ†æ-elasticsearch-é›†ç¾¤å¼‚å¸¸é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">å¦‚ä½•åˆ†æ Elasticsearch é›†ç¾¤å¼‚å¸¸é—®é¢˜ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active toc-link level2">æ€§èƒ½ä¼˜åŒ–</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#elasticsearch-æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">Elasticsearch æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/database/elasticsearch/elasticsearch-questions-01.html#å‚è€ƒ" class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒ</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h2 id="elasticsearch-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#elasticsearch-åŸºç¡€" aria-hidden="true">#</a> Elasticsearch åŸºç¡€</h2><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312043.png" alt="image-20230320221945348"></p><h3 id="elasticsearch-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#elasticsearch-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> <strong>Elasticsearch æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h3><p>ElasticSearch æ˜¯ä¸€ä¸ªå¼€æºçš„ <strong>åˆ†å¸ƒå¼ã€RESTful æœç´¢å’Œåˆ†æå¼•æ“</strong>ï¼Œå¯ä»¥ç”¨æ¥è§£å†³ä½¿ç”¨æ•°æ®åº“è¿›è¡Œæ¨¡ç³Šæœç´¢æ—¶å­˜åœ¨çš„æ€§èƒ½é—®é¢˜ï¼Œé€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€æ•°å­—ã€åœ°ç†ç©ºé—´ã€ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®ã€‚</p><p>ElasticSearch ä½¿ç”¨ <strong>Java</strong> è¯­è¨€å¼€å‘ï¼ŒåŸºäº <strong>Lucence</strong>ã€‚ES æ—©æœŸç‰ˆæœ¬éœ€è¦ JDKï¼Œåœ¨ 7.X ç‰ˆæœ¬åå·²ç»é›†æˆäº† JDKï¼Œå·²æ— éœ€ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚</p><p>Github åœ°å€ï¼š<a href="https://github.com/elastic/elasticsearch" target="_blank" rel="noopener noreferrer">https://github.com/elastic/elasticsearch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</p><h3 id="lucene-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#lucene-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> <strong>Lucene æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h3><p><strong>Lucene</strong> æ˜¯ä¸€ä¸ª Java è¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½ã€å…¨åŠŸèƒ½çš„æ–‡æœ¬æœç´¢å¼•æ“åº“ï¼Œæä¾›å¼ºå¤§çš„ç´¢å¼•å’Œæœç´¢åŠŸèƒ½ï¼Œä»¥åŠæ‹¼å†™æ£€æŸ¥ã€é«˜äº®æ˜¾ç¤ºå’Œé«˜çº§åˆ†æåŠŸèƒ½ã€‚</p><p>å¦‚æœæˆ‘ä»¬ç›´æ¥åŸºäº Lucene å¼€å‘ï¼Œä¼šéå¸¸å¤æ‚ã€‚å¹¶ä¸”ï¼ŒLucene å¹¶æ²¡æœ‰åˆ†å¸ƒå¼ä»¥åŠé«˜å¯ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚åƒ ElasticSearch å°±æ˜¯åŸºäº Lucene å¼€å‘çš„ï¼Œå°è£…äº†è®¸å¤š Lucene åº•å±‚åŠŸèƒ½ï¼Œæä¾›äº†ç®€å•æ˜“ç”¨çš„ <strong>RestFul API</strong> æ¥å£å’Œå¤šç§è¯­è¨€çš„å®¢æˆ·ç«¯ï¼Œå¼€ç®±å³ç”¨ï¼Œè‡ªå¸¦åˆ†å¸ƒå¼ä»¥åŠé«˜å¯ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>Github åœ°å€ï¼š<a href="https://github.com/apache/lucene" target="_blank" rel="noopener noreferrer">https://github.com/apache/lucene<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="elasticsearch-å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#elasticsearch-å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆ" aria-hidden="true">#</a> <strong>Elasticsearch å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ</strong></h3><p>ä¸¾å‡ ä¸ªå¸¸è§çš„ä¾‹å­ï¼š</p><ul><li><p>å®ç°å„ç§ç½‘ç«™çš„å…³é”®è¯æ£€ç´¢åŠŸèƒ½ï¼Œæ¯”å¦‚ç”µå•†ç½‘ç«™çš„å•†å“æ£€ç´¢ã€ç»´åŸºç™¾ç§‘çš„è¯æ¡æœç´¢ã€Github çš„é¡¹ç›®æ£€ç´¢ï¼›</p></li><li><p>æœ¬åœ°ç”Ÿæ´»ç±» APP æ¯”å¦‚ç¾å›¢åŸºäºä½ çš„å®šä½å®ç°é™„è¿‘çš„ä¸€äº›ç¾é£Ÿæˆ–è€…å¨±ä¹é¡¹ç›®çš„æ¨èï¼›</p></li><li><p>ç»“åˆ Elasticsearchã€Kibanaã€Beats å’Œ Logstash è¿™äº› Elastic Stack çš„ç»„ä»¶å®ç°ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿã€‚</p></li><li><p>ä½¿ç”¨ Elasticsearch ä½œä¸ºåœ°ç†ä¿¡æ¯ç³»ç»Ÿ (GIS) ç®¡ç†ã€é›†æˆå’Œåˆ†æç©ºé—´ä¿¡æ¯ã€‚</p></li><li><p>......</p></li></ul><p>ç”µå•†ç½‘ç«™æ£€ç´¢ï¼š</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312145.png" alt="image-20230320222057692"></p><p>ELK æ—¥å¿—é‡‡é›†ç³»ç»Ÿæ¶æ„ï¼ˆè´Ÿè´£æ—¥å¿—çš„æœç´¢ï¼‰ï¼š</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312052.png" alt="image-20230320222111521"></p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦-elasticsearch-mysql-ä¸è¡Œå—" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦-elasticsearch-mysql-ä¸è¡Œå—" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆéœ€è¦ Elasticsearchï¼ŸMySQL ä¸è¡Œå—ï¼Ÿ</h3><p>æ­£æ˜¯è°“æœ¯ä¸šæœ‰ä¸“æ”»ï¼Elasticsearch ä¸»è¦ä¸ºç³»ç»Ÿæä¾›æœç´¢åŠŸèƒ½ï¼Œ MySQL è¿™ç±»ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ä¸»è¦ä¸ºç³»ç»Ÿæä¾›æ•°æ®å­˜å‚¨åŠŸèƒ½ã€‚</p><p>MySQL è™½ç„¶ä¹Ÿèƒ½æä¾›ç®€å•çš„æœç´¢åŠŸèƒ½ï¼Œä½†æ˜¯æœç´¢å¹¶ä¸æ˜¯å®ƒæ“…é•¿çš„é¢†åŸŸã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä»ä¸‹é¢ä¸¤ä¸ªæ–¹é¢æ¥çœ‹ï¼š</p><p><strong>1)ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“çš„ç—›ç‚¹</strong>ï¼š</p><ul><li><p>ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“(å¦‚ MySQL )åœ¨å¤§æ•°æ®é‡ä¸‹æŸ¥è¯¢æ•ˆç‡ä½ä¸‹ï¼Œ æ¨¡ç³ŠåŒ¹é…æœ‰å¯èƒ½å¯¼è‡´å…¨è¡¨æ‰«æã€‚</p></li><li><p>MySQL å…¨æ–‡ç´¢å¼•åªæ”¯æŒ CHARï¼ŒVARCHAR æˆ–è€… TEXT å­—æ®µç±»å‹ï¼Œä¸æ”¯æŒåˆ†è¯å™¨ã€‚</p></li></ul><p><strong>2)Elasticsearch çš„ä¼˜åŠ¿</strong> ï¼š</p><ul><li><p>æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼Œéç»“æ„åŒ–ï¼Œæ•°å€¼ï¼Œåœ°ç†ä¿¡æ¯ã€‚</p></li><li><p>ç®€å•çš„ RESTful APIï¼Œå¤©ç”Ÿçš„å…¼å®¹å¤šè¯­è¨€å¼€å‘ã€‚</p></li><li><p>æä¾›æ›´ä¸°å¯Œçš„åˆ†è¯å™¨ï¼Œæ”¯æŒçƒ­ç‚¹è¯æ±‡æŸ¥è¯¢ã€‚</p></li><li><p>è¿‘å®æ—¶æŸ¥è¯¢ï¼ŒElasticsearch æ¯éš” 1s æŠŠæ•°æ®å­˜å‚¨è‡³ç³»ç»Ÿç¼“å­˜ä¸­ï¼Œä¸”ä½¿ç”¨å€’æ’ç´¢å¼•æé«˜æ£€ç´¢æ•ˆç‡ã€‚</p></li><li><p>æ”¯æŒç›¸å…³æ€§æœç´¢ï¼Œå¯ä»¥æ ¹æ®æ¡ä»¶å¯¹ç»“æœè¿›è¡Œæ‰“åˆ†ã€‚</p></li><li><p>å¤©ç„¶åˆ†å¸ƒå¼å­˜å‚¨ï¼Œä½¿ç”¨åˆ†ç‰‡æ”¯æŒæ›´å¤§çš„æ•°æ®é‡ã€‚</p></li></ul><h3 id="elasticsearch-ä¸­çš„åŸºæœ¬æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#elasticsearch-ä¸­çš„åŸºæœ¬æ¦‚å¿µ" aria-hidden="true">#</a> Elasticsearch ä¸­çš„åŸºæœ¬æ¦‚å¿µ</h3><ul><li><p><strong>Indexï¼ˆç´¢å¼•ï¼‰</strong> ï¼š ä½œä¸ºåè¯ç†è§£çš„è¯ï¼Œç´¢å¼•æ˜¯ä¸€ç±»æ‹¥æœ‰ç›¸ä¼¼ç‰¹å¾çš„æ–‡æ¡£çš„é›†åˆæ¯”å¦‚å•†å“ç´¢å¼•ã€å•†å®¶ç´¢å¼•ã€è®¢å•ç´¢å¼•ï¼Œæœ‰ç‚¹ç±»ä¼¼äº MySQL ä¸­çš„æ•°æ®åº“è¡¨ã€‚ä½œä¸ºåŠ¨è¯ç†è§£çš„è¯ï¼Œç´¢å¼•å°±æ˜¯å°†ä¸€ä»½æ–‡æ¡£ä¿å­˜åœ¨ä¸€ä¸ªç´¢å¼•ä¸­ã€‚</p></li><li><p><strong>Documentï¼ˆæ–‡æ¡£ï¼‰</strong> ï¼šå¯æœç´¢æœ€å°å•ä½ï¼Œç”¨äºå­˜å‚¨æ•°æ®ï¼Œä¸€èˆ¬ä¸º JSON æ ¼å¼ã€‚æ–‡æ¡£ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—æ®µ(Field)ç»„æˆï¼Œå­—æ®µç±»å‹å¯ä»¥æ˜¯å¸ƒå°”ï¼Œæ•°å€¼ï¼Œå­—ç¬¦ä¸²ã€äºŒè¿›åˆ¶ã€æ—¥æœŸç­‰æ•°æ®ç±»å‹ã€‚</p></li><li><p><strong>Typeï¼ˆå­—æ®µç±»å‹ï¼‰</strong> : æ¯ä¸ªæ–‡æ¡£åœ¨ ES ä¸­éƒ½å¿…é¡»è®¾å®šå®ƒçš„ç±»å‹ã€‚ES 7.0 ä¹‹å‰ï¼Œä¸€ä¸ª Index å¯ä»¥æœ‰å¤šä¸ª Typeã€‚6.0 å¼€å§‹ï¼ŒType å·²ç»è¢« Deprecatedã€‚7.0 å¼€å§‹ï¼Œä¸€ä¸ªç´¢å¼•åªèƒ½åˆ›å»ºä¸€ä¸ª Type ï¼š_docã€‚8.0 ä¹‹åï¼ŒType è¢«å®Œå…¨åˆ é™¤ï¼Œåˆ é™¤çš„åŸå› çœ‹è¿™é‡Œï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.17/removal-of-types.html" target="_blank" rel="noopener noreferrer">https://www.elastic.co/guide/en/elasticsearch/reference/7.17/removal-of-types.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</p></li><li><p><strong>Mappingï¼ˆæ˜ å°„ï¼‰</strong> ï¼šå®šä¹‰å­—æ®µåç§°ã€æ•°æ®ç±»å‹ã€ä¼˜åŒ–ä¿¡æ¯ï¼ˆæ¯”å¦‚æ˜¯å¦ç´¢å¼•)ã€åˆ†è¯å™¨ï¼Œæœ‰ç‚¹ç±»ä¼¼äºæ•°æ®åº“ä¸­çš„è¡¨ç»“æ„å®šä¹‰ã€‚ä¸€ä¸ª Index å¯¹åº”ä¸€ä¸ª Mappingã€‚</p></li><li><p><strong>Nodeï¼ˆèŠ‚ç‚¹ï¼‰</strong> : ç›¸å½“äºä¸€ä¸ª ES å®ä¾‹ï¼Œå¤šä¸ªèŠ‚ç‚¹æ„æˆä¸€ä¸ªé›†ç¾¤ã€‚</p></li><li><p><strong>Clusterï¼ˆé›†ç¾¤ï¼‰</strong> ï¼šå¤šä¸ª ES èŠ‚ç‚¹çš„é›†åˆï¼Œç”¨äºè§£å†³å•ä¸ªèŠ‚ç‚¹æ— æ³•å¤„ç†çš„æœç´¢éœ€æ±‚å’Œæ•°æ®å­˜å‚¨éœ€æ±‚ã€‚</p></li><li><p><strong>Shardï¼ˆåˆ†ç‰‡ï¼‰</strong>: Indexï¼ˆç´¢å¼•ï¼‰è¢«åˆ†ä¸ºå¤šä¸ªç¢ç‰‡å­˜å‚¨åœ¨ä¸åŒçš„ Node èŠ‚ç‚¹ä¸Šçš„åˆ†ç‰‡ä¸­ï¼Œä»¥æé«˜æ€§èƒ½å’Œååé‡ã€‚</p></li><li><p><strong>Replicaï¼ˆå‰¯æœ¬ï¼‰</strong> ï¼šIndex å‰¯æœ¬ï¼Œæ¯ä¸ª Index æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬ï¼Œä»¥æé«˜æ‹“å±•åŠŸèƒ½å’Œååé‡ã€‚</p></li><li><p><strong>DSL(æŸ¥è¯¢è¯­è¨€)</strong> ï¼šåŸºäº JSON çš„æŸ¥è¯¢è¯­è¨€ï¼Œç±»ä¼¼äº SQL è¯­å¥ã€‚</p></li></ul><p>MySQL ä¸ Elasticsearch çš„æ¦‚å¿µç®€å•ç±»æ¯”ï¼š</p><table><thead><tr><th>MySQL</th><th>Elasticsearch</th></tr></thead><tbody><tr><td>Tableï¼ˆè¡¨ï¼‰</td><td>Index</td></tr><tr><td>Rowï¼ˆè¡Œï¼‰</td><td>Document</td></tr><tr><td>Columnï¼ˆåˆ—ï¼‰</td><td>Field</td></tr><tr><td>Schemaï¼ˆçº¦æŸï¼‰</td><td>Mapping</td></tr><tr><td>SQLï¼ˆæŸ¥è¯¢è¯­è¨€ï¼‰</td><td>DSL</td></tr></tbody></table><h2 id="å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•" aria-hidden="true">#</a> å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•</h2><h3 id="å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>å€’æ’ç´¢å¼•</strong> ä¹Ÿè¢«ç§°ä½œåå‘ç´¢å¼•ï¼ˆinverted indexï¼‰ï¼Œæ˜¯ç”¨äºæé«˜æ•°æ®æ£€ç´¢é€Ÿåº¦çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œç©ºé—´æ¶ˆè€—æ¯”è¾ƒå¤§ã€‚å€’æ’ç´¢å¼•é¦–å…ˆå°†æ£€ç´¢æ–‡æ¡£è¿›è¡Œåˆ†è¯å¾—åˆ°å¤šä¸ªè¯è¯­/è¯æ¡ï¼Œç„¶åå°†è¯è¯­å’Œæ–‡æ¡£ ID å»ºç«‹å…³è”ï¼Œä»è€Œæé«˜æ£€ç´¢æ•ˆç‡ã€‚</p><p>åˆ†è¯å°±æ˜¯å¯¹ä¸€æ®µæ–‡æœ¬ï¼Œé€šè¿‡è§„åˆ™æˆ–è€…ç®—æ³•åˆ†å‡ºå¤šä¸ªè¯ï¼Œæ¯ä¸ªè¯ä½œä¸ºæœç´¢çš„æœ€ç»†ç²’åº¦ä¸€ä¸ªä¸ªå•å­—æˆ–è€…å•è¯ã€‚åˆ†è¯çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†æœç´¢ï¼Œå°¤å…¶åœ¨æ•°æ®é‡å¤§çš„æƒ…å†µä¸‹ï¼Œåˆ†è¯çš„å®ç°å¯ä»¥å¿«é€Ÿã€é«˜æ•ˆçš„ç­›é€‰å‡ºç›¸å…³æ€§é«˜çš„æ–‡æ¡£å†…å®¹ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå€’æ’ç´¢å¼•ä½¿ç”¨ <strong>è¯è¯­/è¯æ¡ï¼ˆTermï¼‰</strong> æ¥ä½œä¸ºç´¢å¼•å…³é”®å­—ï¼Œå¹¶åŒæ—¶è®°å½•äº†å“ªäº› <strong>æ–‡æ¡£ï¼ˆDocumentï¼‰</strong> ä¸­æœ‰è¿™ä¸ªè¯è¯­ã€‚</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312013.png" alt="image-20230320223651242"></p><ul><li><strong>æ–‡æ¡£ï¼ˆDocumentï¼‰</strong> ï¼šç”¨æ¥æœç´¢çš„æ•°æ®ï¼Œå…¶ä¸­çš„æ¯ä¸€æ¡æ•°æ®å°±æ˜¯ä¸€ä¸ªæ–‡æ¡£ã€‚ä¾‹å¦‚ä¸€ä¸ªå•†å“ä¿¡æ¯ã€å•†å®¶ä¿¡æ¯ã€ä¸€é¡µç½‘é¡µçš„å†…å®¹ã€‚</li><li><strong>è¯è¯­/è¯æ¡ï¼ˆTermï¼‰</strong> ï¼šå¯¹æ–‡æ¡£æ•°æ®æˆ–ç”¨æˆ·æœç´¢æ•°æ®ï¼Œåˆ©ç”¨æŸç§ç®—æ³•åˆ†è¯ï¼Œå¾—åˆ°çš„å…·å¤‡å«ä¹‰çš„è¯è¯­å°±æ˜¯è¯æ¡ã€‚ä¾‹å¦‚ &#39;&#39;æ•°æ®åº“ç´¢å¼•å¯ä»¥å¤§å¹…æé«˜æŸ¥è¯¢é€Ÿåº¦&quot; è¿™æ®µè¯è¢«ä¸­æ–‡åˆ†è¯å™¨ IK Analyzer ç»†ç²’åº¦åˆ†è¯åå¾—åˆ°[æ•°æ®åº“,ç´¢å¼•,å¯ä»¥,å¤§å¹…,æé«˜,æŸ¥è¯¢,é€Ÿåº¦]ã€‚</li><li><strong>è¯å…¸ï¼ˆTerm Dictionaryï¼‰</strong> ï¼šTerm çš„é›†åˆã€‚</li></ul><p><strong>Lucene å°±æ˜¯åŸºäºå€’æ’ç´¢å¼•æ¥åšçš„å…¨æ–‡æ£€ç´¢ï¼Œå¹¶ä¸” ElasticSearch è¿˜å¯¹å€’æ’ç´¢å¼•åšäº†è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</strong></p><h3 id="å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆ" aria-hidden="true">#</a> å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹äº†è§£ä¹ˆï¼Ÿ</h3><p>è¿™é‡Œåªæ˜¯ç®€å•ä»‹ç»ä¸€ä¸‹å€’æ’ç´¢å¼•çš„åˆ›å»ºå’Œæ£€ç´¢æµç¨‹ï¼Œå®é™…åº”ç”¨ä¸­ï¼Œè¿œæ¯”ä¸‹é¢ä»‹ç»çš„å¤æ‚ï¼Œä¸è¿‡ï¼Œå¤§ä½“åŸç†è¿˜æ˜¯ä¸€æ ·çš„ã€‚</p><p><strong>å€’æ’ç´¢å¼•åˆ›å»ºæµç¨‹ï¼š</strong></p><p>1å»ºç«‹æ–‡æ¡£åˆ—è¡¨ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ–‡æ¡£ ID ä¸ä¹‹å¯¹åº”ã€‚ 2é€šè¿‡åˆ†è¯å™¨å¯¹æ–‡æ¡£è¿›è¡Œåˆ†è¯ï¼Œç”Ÿæˆç±»ä¼¼äº &lt;è¯è¯­ï¼Œæ–‡æ¡£ID&gt; çš„ä¸€ç»„ç»„æ•°æ®ã€‚ 3å°†è¯è¯­ä½œä¸ºç´¢å¼•å…³é”®å­—ï¼Œè®°å½•ä¸‹è¯è¯­å’Œæ–‡æ¡£çš„å¯¹åº”å…³ç³»ï¼Œä¹Ÿå°±æ˜¯å“ªäº›æ–‡æ¡£ä¸­åŒ…å«äº†è¯¥è¯è¯­ã€‚</p><p>è¿™é‡Œå¯ä»¥è®°å½•æ›´å¤šä¿¡æ¯æ¯”å¦‚è¯è¯­çš„ä½ç½®ã€è¯è¯­å‡ºç°çš„é¢‘ç‡ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿é«˜äº®æ˜¾ç¤ºä»¥åŠå¯¹æœç´¢ç»“æœè¿›è¡Œæ’åºï¼ˆåæ–‡ä¼šä»‹ç»åˆ°ï¼‰ã€‚</p><p>Lucene çš„å€’æ’ç´¢å¼•å¤§è‡´æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼ˆå›¾æºï¼šhttps://segmentfault.com/a/1190000037658997ï¼‰ï¼š</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312109.jpeg" alt="9d497286-fc55-4ad7-835e-2c0beeda6d37 (1)"></p><p><strong>å€’æ’ç´¢å¼•æ£€ç´¢æµç¨‹ï¼š</strong></p><ol><li>æ ¹æ®åˆ†è¯æŸ¥æ‰¾å¯¹åº”æ–‡æ¡£ ID</li><li>æ ¹æ®æ–‡æ¡£ ID æ‰¾åˆ°æ–‡æ¡£</li></ol><h3 id="å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆ" tabindex="-1"><a class="header-anchor" href="#å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆ" aria-hidden="true">#</a> å€’æ’ç´¢å¼•ç”±ä»€ä¹ˆç»„æˆï¼Ÿ</h3><ul><li><strong>å•è¯å­—å…¸</strong> ï¼šç”¨äºå­˜å‚¨å•è¯åˆ—è¡¨ã€‚ä¸€èˆ¬ç”¨ B+Tree æˆ– Hash æ‹‰é“¾æ³•å­˜å‚¨ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</li><li><strong>å€’æ’åˆ—è¡¨</strong> ï¼šè®°å½•å•è¯å¯¹åº”çš„æ–‡æ¡£é›†åˆã€‚åˆ†ä¸ºï¼š <ul><li>DocIDï¼šå³<strong>æ–‡æ¡£ id</strong></li><li>TF : å•è¯å‡ºç°é¢‘ç‡ï¼Œç®€ç§°<strong>è¯é¢‘</strong></li><li>Positionï¼šå•è¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„<strong>ä½ç½®</strong>ï¼Œç”¨äºæ£€ç´¢</li><li>Offsetï¼š<strong>åç§»é‡</strong>ï¼Œè®°å½•å•è¯å¼€å§‹ç»“æŸä½ç½®ï¼Œç”¨äºé«˜äº®æ˜¾ç¤º</li></ul></li></ul><p><strong>æ­£æ’ç´¢å¼•å‘¢ï¼Ÿ</strong></p><p>ä¸åŒäºå€’æ’ç´¢å¼•ï¼Œæ­£æ’ç´¢å¼•å°†æ–‡æ¡£ ID å’Œåˆ†è¯å»ºç«‹å…³è”ã€‚</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312018.png" alt="c8b1edc4-5529-4426-825a-b7bbf5b525da"></p><p>æ ¹æ®è¯è¯­æŸ¥è¯¢æ—¶ï¼Œå¿…é¡»å…ˆé€æ¡è·å–æ¯ä¸ªæ–‡æ¡£ï¼Œç„¶ååˆ¤æ–­æ–‡æ¡£ä¸­æ˜¯å¦åŒ…å«æ‰€éœ€è¦çš„è¯è¯­ï¼ŒæŸ¥è¯¢æ•ˆç‡è¾ƒä½ã€‚</p><h3 id="å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>æ­£æ’ç´¢å¼•ï¼š</strong></p><ul><li>ä¼˜ç‚¹ï¼šç»´æŠ¤æˆæœ¬ä½ï¼Œæ–°å¢æ•°æ®çš„æ—¶å€™ï¼Œåªè¦åœ¨æœ«å°¾æ–°å¢ä¸€ä¸ª ID</li><li>ç¼ºç‚¹ï¼šä»¥ DocID ä¸ºç´¢å¼•ï¼ŒæŸ¥è¯¢æ—¶éœ€è¦æ‰«ææ‰€æœ‰è¯è¯­ï¼Œä¸€ä¸ªä¸€ä¸ªæ¯”è¾ƒï¼Œç›´è‡³æŸ¥åˆ°å…³é”®è¯ï¼ŒæŸ¥è¯¢æ•ˆç‡è¾ƒä½ã€‚</li></ul><p><strong>å€’æ’ç´¢å¼•ï¼š</strong></p><ul><li>ä¼˜ç‚¹ï¼šå»ºç«‹åˆ†è¯å’Œ DocID å…³ç³»ï¼Œå¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡</li><li>ç¼ºç‚¹ï¼šå»ºç«‹å€’æ’ç´¢å¼•çš„æˆæœ¬é«˜ã€‚å¹¶ä¸”ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºæ–‡æ¡£çš„æ¯æ¬¡æ›´æ–°éƒ½æ„å‘³ç€å€’æ’ç´¢å¼•çš„é‡å»ºã€‚è¿˜æœ‰ä¸€äº›æœç´¢ç²¾åº¦çš„é—®é¢˜ï¼Œæ¯”å¦‚æœç´¢dogs å’Œ dog æƒ³è¦ç›¸åŒåŒ¹é…ç»“æœï¼Œè¿™æ—¶å°±éœ€è¦åˆé€‚çš„åˆ†è¯å™¨äº†</li></ul><h3 id="elasticsearch-å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—" tabindex="-1"><a class="header-anchor" href="#elasticsearch-å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—" aria-hidden="true">#</a> Elasticsearch å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•å—ï¼Ÿ</h3><p>æ–‡æ¡£ä¼šè¢«åºåˆ—åŒ–ä¸ºå­—æ®µç»„æˆçš„ JSON æ ¼å¼ä¿å­˜åœ¨ ES ä¸­ã€‚æˆ‘ä»¬å¯ä»¥é’ˆå¯¹æŸäº›åœ°æ®µä¸åšç´¢å¼•ã€‚</p><p>è¿™æ ·å¯ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯ï¼ŒåŒæ—¶ä¹Ÿä¼šè®©å­—æ®µæ— æ³•è¢«æœç´¢ã€‚</p><h2 id="åˆ†è¯å™¨-analyzer" tabindex="-1"><a class="header-anchor" href="#åˆ†è¯å™¨-analyzer" aria-hidden="true">#</a> åˆ†è¯å™¨(Analyzer)</h2><p>Analyzer ç¿»è¯‘æˆä¸­æ–‡å«åšåˆ†æå™¨ï¼Œä¸è¿‡ï¼Œå¾ˆå¤šäººä¸€èˆ¬ä¹ æƒ¯ç§°å‘¼å…¶ä¸ºåˆ†è¯å™¨ã€‚</p><h3 id="åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨" tabindex="-1"><a class="header-anchor" href="#åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨" aria-hidden="true">#</a> åˆ†è¯å™¨æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>åˆ†è¯å™¨æ˜¯æœç´¢å¼•æ“çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£å¯¹æ–‡æ¡£å†…å®¹è¿›è¡Œåˆ†è¯(åœ¨ ES é‡Œé¢è¢«ç§°ä¸º <strong>Analysis</strong>)ï¼Œä¹Ÿå°±æ˜¯å°†ä¸€ä¸ªæ–‡æ¡£è½¬æ¢æˆ <strong>å•è¯è¯å…¸ï¼ˆTerm Dictionaryï¼‰</strong> ã€‚å•è¯è¯å…¸æ˜¯ç”±æ–‡æ¡£ä¸­å‡ºç°è¿‡çš„æ‰€æœ‰å•è¯æ„æˆçš„å­—ç¬¦ä¸²é›†åˆã€‚ä¸ºäº†æ»¡è¶³ä¸åŒçš„åˆ†è¯éœ€æ±‚ï¼Œåˆ†è¯å™¨æœ‰å¾ˆå¤šç§ï¼Œä¸åŒçš„åˆ†è¯å™¨åˆ†è¯é€»è¾‘å¯èƒ½ä¼šä¸ä¸€æ ·ã€‚</p><h3 id="å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›" aria-hidden="true">#</a> å¸¸ç”¨åˆ†è¯å™¨æœ‰å“ªäº›?</h3><p><strong>éä¸­æ–‡åˆ†è¯å™¨ï¼š</strong></p><ul><li><strong>Standard Analyzer</strong>ï¼šæ ‡å‡†åˆ†è¯å™¨ï¼Œä¹Ÿæ˜¯é»˜è®¤åˆ†è¯å™¨ï¼Œ è‹±æ–‡è½¬æ¢æˆå°å†™ï¼Œ ä¸­æ–‡åªæ”¯æŒå•å­—åˆ‡åˆ†ã€‚</li><li><strong>Simple Analyzer</strong>ï¼šç®€å•åˆ†è¯å™¨ï¼Œé€šè¿‡éå­—æ¯å­—ç¬¦æ¥åˆ†å‰²æ–‡æœ¬ä¿¡æ¯ï¼Œè‹±æ–‡å¤§å†™è½¬å°å†™ï¼Œéè‹±æ–‡ä¸è¿›è¡Œåˆ†è¯ã€‚</li><li><strong>Stop Analyzer</strong> ï¼šåœ¨ SimpleAnalyzer åŸºç¡€ä¸Šå»é™¤ theï¼Œaï¼Œis ç­‰è¯ï¼Œä¹Ÿå°±æ˜¯åŠ å…¥äº†åœç”¨è¯ã€‚</li><li><strong>Whitespace Analyzer</strong> : ç©ºæ ¼åˆ†è¯å™¨ï¼Œé€šè¿‡ç©ºæ ¼æ¥åˆ†å‰²æ–‡æœ¬ä¿¡æ¯ï¼Œéè‹±æ–‡ä¸è¿›è¡Œåˆ†è¯ã€‚</li></ul><p>ä¸Šé¢è¿™äº›ä¹Ÿéƒ½æ˜¯ ES å†…ç½®çš„åˆ†è¯å™¨ï¼Œè¯¦ç»†ä»‹ç»è¯·çœ‹å®˜æ–¹æ–‡æ¡£ï¼šhttps://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.htmlã€‚</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312773.png" alt="8390a51f-d5be-4c3f-8053-3bd177afcd51"></p><p>è¿™ä¸ªå®˜æ–¹æ–‡æ¡£ä¸ºæ¯ä¸€ä¸ªåˆ†è¯å™¨éƒ½åˆ—ä¸¾äº†å¯¹åº”çš„ä¾‹å­å¸®åŠ©ç†è§£ï¼Œæ¯”å¦‚ Standard Analyzer çš„ä¾‹å­æ˜¯ä¸‹é¢è¿™æ ·çš„ã€‚</p><ul><li><p>è¾“å…¥æ–‡æœ¬å†…å®¹ï¼š&quot;The 2 QUICK Brown-Foxes jumped over the lazy dog&#39;s bone.&quot;</p></li><li><p>åˆ†è¯ç»“æœï¼š[ the, 2, quick, brown, foxes, jumped, over, the, lazy, dog&#39;s, bone ]</p></li></ul><p><strong>ä¸­æ–‡åˆ†è¯å™¨ï¼š</strong></p><ul><li><strong>IK Analyzerï¼ˆæ¨èï¼‰</strong>ï¼š æœ€å¸¸ç”¨çš„å¼€æºä¸­æ–‡åˆ†è¯å™¨ï¼ŒGithub åœ°å€ï¼šhttps://github.com/medcl/elasticsearch-analysis-ikï¼ŒåŒ…æ‹¬ä¸¤ç§åˆ†è¯æ¨¡å¼ï¼š <ul><li><strong>ik_max_word</strong>ï¼šç»†ç²’åº¦åˆ‡åˆ†æ¨¡å¼ï¼Œä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œå°½å¯èƒ½å¤šçš„æ‹†åˆ†å‡ºè¯è¯­ ã€‚</li><li><strong>ik_smart</strong>ï¼šæ™ºèƒ½æ¨¡å¼ï¼Œä¼šåšæœ€ç²—ç²’åº¦çš„æ‹†åˆ†ï¼Œå·²è¢«åˆ†å‡ºçš„è¯è¯­å°†ä¸ä¼šå†æ¬¡è¢«å…¶å®ƒè¯è¯­å æœ‰ã€‚</li></ul></li><li><strong>Ansj</strong> ï¼šåŸºäº n-Gram+CRF+HMM çš„ä¸­æ–‡åˆ†è¯çš„ Java å®ç°ï¼Œåˆ†è¯é€Ÿåº¦è¾¾åˆ°æ¯ç§’é’Ÿå¤§çº¦ 200 ä¸‡å­—å·¦å³ï¼ˆmac air ä¸‹æµ‹è¯•ï¼‰ï¼Œå‡†ç¡®ç‡èƒ½è¾¾åˆ° 96%ä»¥ä¸Šã€‚å®ç°äº†ä¸­æ–‡åˆ†è¯ã€ä¸­æ–‡å§“åè¯†åˆ«ã€ç”¨æˆ·è‡ªå®šä¹‰è¯å…¸ã€å…³é”®å­—æå–ã€è‡ªåŠ¨æ‘˜è¦ã€å…³é”®å­—æ ‡è®°ç­‰åŠŸèƒ½ã€‚Github åœ°å€ï¼š<a href="https://github.com/NLPchina/ansj_seg" target="_blank" rel="noopener noreferrer">https://github.com/NLPchina/ansj_seg<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</li><li><strong>ICU Analyzer</strong>ï¼šæä¾› Unicode æ”¯æŒï¼Œæ›´å¥½åœ°æ”¯æŒäºšæ´²è¯­è¨€ã€‚</li><li><strong>THULACï¼ˆTHU Lexical Analyzer for Chineseï¼‰</strong> ï¼š æ¸…åå¤§å­¦æ¨å‡ºçš„ä¸€å¥—ä¸­æ–‡è¯æ³•åˆ†æå·¥å…·åŒ…ï¼Œå…·æœ‰ä¸­æ–‡åˆ†è¯å’Œè¯æ€§æ ‡æ³¨åŠŸèƒ½ã€‚Github åœ°å€ï¼š<a href="https://github.com/thunlp/THULAC-Python" target="_blank" rel="noopener noreferrer">https://github.com/thunlp/THULAC-Python<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</li><li><strong>Jcseg</strong> ï¼šåŸºäº mmseg ç®—æ³•çš„ä¸€ä¸ªè½»é‡çº§ä¸­æ–‡åˆ†è¯å™¨ï¼ŒåŒæ—¶é›†æˆäº†å…³é”®å­—æå–ï¼Œå…³é”®çŸ­è¯­æå–ï¼Œå…³é”®å¥å­æå–å’Œæ–‡ç« è‡ªåŠ¨æ‘˜è¦ç­‰åŠŸèƒ½ã€‚Gitee åœ°å€ï¼š<a href="https://gitee.com/lionsoul/jcseg" target="_blank" rel="noopener noreferrer">https://gitee.com/lionsoul/jcseg<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</li></ul><p>IK Analyzer åˆ†è¯ç¤ºä¾‹ï¼š</p><ul><li><p>è¾“å…¥æ–‡æœ¬å†…å®¹ï¼š&quot;æ•°æ®åº“ç´¢å¼•å¯ä»¥å¤§å¹…æé«˜æŸ¥è¯¢é€Ÿåº¦&quot;</p></li><li><p>åˆ†è¯ç»“æœï¼š</p><ul><li>ç»†ç²’åº¦åˆ‡åˆ†æ¨¡å¼ï¼š[æ•°æ®åº“,ç´¢å¼•,å¯ä»¥,å¤§å¹…,æé«˜,æŸ¥è¯¢,é€Ÿåº¦]</li><li>æ™ºèƒ½æ¨¡å¼ï¼š[æ•°æ®åº“,æ•°æ®,ç´¢å¼•,å¯ä»¥,å¤§å¹…,æé«˜,æŸ¥è¯¢,é€Ÿåº¦]</li></ul></li></ul><p><strong>å…¶ä»–åˆ†è¯å™¨</strong> ï¼š</p><ul><li><p><strong>Keyword Analyzer</strong> ï¼šå…³é”®è¯åˆ†è¯å™¨ï¼Œè¾“å…¥æ–‡æœ¬ç­‰äºè¾“å‡ºæ–‡æœ¬ã€‚</p></li><li><p><strong>Fingerprint Analyzer</strong> ï¼šæŒ‡çº¹åˆ†æä»ªåˆ†è¯å™¨ï¼Œé€šè¿‡åˆ›å»ºæ ‡è®°è¿›è¡Œæ£€æµ‹ã€‚</p></li></ul><p>ä¸Šé¢è¿™ä¸¤ä¸ªä¹Ÿæ˜¯ ES å†…ç½®çš„åˆ†è¯å™¨ã€‚</p><p>Keyword Analyzer åˆ†è¯ç¤ºä¾‹ï¼š</p><ul><li><p>è¾“å…¥æ–‡æœ¬å†…å®¹ï¼š&quot;The 2 QUICK Brown-Foxes jumped over the lazy dog&#39;s bone.&quot;</p></li><li><p>åˆ†è¯ç»“æœï¼š[ The 2 QUICK Brown-Foxes jumped over the lazy dog&#39;s bone. ]</p></li></ul><h3 id="åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆ" tabindex="-1"><a class="header-anchor" href="#åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆ" aria-hidden="true">#</a> åˆ†è¯å™¨ç”±ä»€ä¹ˆç»„æˆï¼Ÿ</h3><p>åˆ†æå™¨ç”±ä¸‰ç§ç»„ä»¶ç»„æˆï¼š</p><ul><li><strong>Charater Filters</strong>ï¼šå¤„ç†åŸå§‹æ–‡æœ¬ï¼Œä¾‹å¦‚å»é™¤ HTMl æ ‡ç­¾ã€‚</li><li><strong>Tokenizer</strong>ï¼šæŒ‰åˆ†è¯å™¨è§„åˆ™åˆ‡åˆ†å•è¯ã€‚</li><li><strong>Token Filters</strong>ï¼šå¯¹åˆ‡åˆ†åçš„å•è¯åŠ å·¥ï¼ŒåŒ…æ‹¬è½¬å°å†™ï¼Œåˆ‡é™¤åœç”¨è¯ï¼Œæ·»åŠ è¿‘ä¹‰è¯</li></ul><p>ä¸‰è€…é¡ºåºï¼šCharacter Filters â€”&gt; Tokenizer â€”&gt; Token Filter</p><p>ä¸‰è€…ä¸ªæ•°ï¼šCharFiltersï¼ˆ0 ä¸ªæˆ–å¤šä¸ªï¼‰ + Tokenizer(ä¸€ä¸ª) + TokenFilters(0 ä¸ªæˆ–å¤šä¸ª)</p><p>ä¸‹å›¾æ˜¯é»˜è®¤åˆ†è¯å™¨ Standard Analyzer çš„åˆ†è¯æµç¨‹ã€‚</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312604.png" alt="f2ca3548-2029-4ad4-93d3-dbf761bb4c16 (1)"></p><h3 id="elasticsearch-å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢" tabindex="-1"><a class="header-anchor" href="#elasticsearch-å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢" aria-hidden="true">#</a> Elasticsearch å¦‚ä½•åŸºäºæ‹¼éŸ³æœç´¢ï¼Ÿ</h3><p>å¯¹äºä¸­æ–‡å†…å®¹æ¥è¯´ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åŸºäºæ‹¼éŸ³æ¥è¿›è¡Œæœç´¢ã€‚</p><p><strong>åœ¨ Elasticsearch ä¸­å¦‚ä½•æ¥å®ç°åŸºäºæ‹¼éŸ³æ¥æœç´¢çš„å‘¢ï¼Ÿ</strong> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>æ‹¼éŸ³åˆ†è¯å™¨</strong> ï¼Œæ‹¼éŸ³åˆ†è¯å™¨ç”¨äºæ±‰å­—å’Œæ‹¼éŸ³ä¹‹é—´çš„è½¬æ¢ï¼Œé›†æˆäº† NLP å·¥å…·ï¼ˆhttps://github.com/NLPchina/nlp-langï¼‰ï¼ŒGithub åœ°å€ï¼šhttps://github.com/medcl/elasticsearch-analysis-pinyinã€‚</p><h2 id="æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç±»å‹" aria-hidden="true">#</a> æ•°æ®ç±»å‹</h2><h3 id="elasticsearch-å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#elasticsearch-å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›" aria-hidden="true">#</a> Elasticsearch å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h3><p><strong>å¸¸è§ç±»å‹ï¼š</strong></p><ul><li><p>å…³é”®è¯ï¼š keyword ã€constant_keywordï¼Œå’Œ wildcard</p></li><li><p>æ•°å€¼å‹ï¼šlong, integer, short, byte, double, float, half_float, scaled_float</p></li><li><p>å¸ƒå°”å‹ï¼šboolean</p></li><li><p>æ—¥æœŸå‹ï¼šdate, date_nanos</p></li><li><p>äºŒè¿›åˆ¶ï¼šbinary</p></li></ul><p><strong>ç»“æ„åŒ–æ•°æ®ç±»å‹ï¼š</strong></p><ul><li><p>èŒƒå›´å‹ï¼šinteger_range, float_range, long_range, double_range, date_range</p></li><li><p>ip åœ°å€ç±»å‹ ï¼šip</p></li><li><p>è½¯ä»¶ç‰ˆæœ¬ ï¼šversion</p></li></ul><p><strong>æ–‡å­—æœç´¢ç±»å‹ï¼š</strong></p><ul><li><p>éç»“æ„åŒ–æ–‡æœ¬ ï¼š text</p></li><li><p>åŒ…å«ç‰¹æ®Šæ ‡è®°çš„æ–‡æœ¬ï¼šannotated-text</p></li><li><p>è‡ªåŠ¨å®Œæˆå»ºè®®ï¼š completion</p></li></ul><p><strong>å¯¹è±¡å’Œå…³ç³»ç±»å‹ï¼š</strong></p><ul><li><p>åµŒå¥—ç±»å‹ï¼š nested ã€join</p></li><li><p>å¯¹è±¡ç±»å‹ ï¼š objectã€flattened</p></li></ul><p><strong>ç©ºé—´ç±»å‹ï¼š</strong></p><ul><li><p>åœ°ç†åæ ‡ç±»å‹ ï¼šgeo_point</p></li><li><p>åœ°ç†å½¢çŠ¶ç±»å‹ ï¼š geo_shape</p></li></ul><p>Elasticsearch å®˜æ–¹æ–‡æ¡£ä¸­æœ‰è¯¦ç»†ä»‹ç»åˆ°å„ä¸ªæ•°æ®ç±»å‹çš„ä½¿ç”¨ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html" target="_blank" rel="noopener noreferrer">https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</p><h3 id="keyword-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#keyword-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«" aria-hidden="true">#</a> keyword å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>keyword ä¸èµ°åˆ†è¯å™¨ï¼Œè€Œ text ä¼šèµ°åˆ†è¯å™¨ï¼Œä½¿ç”¨ keyword å…³é”®å­—æŸ¥è¯¢æ•ˆç‡æ›´é«˜ï¼Œä¸€èˆ¬åœ¨ fields ä¸­å®šä¹‰keywordç±»å‹å­—æ®µ</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;keyword&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="elasticsearch-æ˜¯å¦æœ‰æ•°ç»„ç±»å‹" tabindex="-1"><a class="header-anchor" href="#elasticsearch-æ˜¯å¦æœ‰æ•°ç»„ç±»å‹" aria-hidden="true">#</a> Elasticsearch æ˜¯å¦æœ‰æ•°ç»„ç±»å‹ï¼Ÿ</h3><p>åœ¨ Elasticsearch ä¸­ï¼Œæ²¡æœ‰ä¸“é—¨çš„æ•°ç»„æ•°æ®ç±»å‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä»»ä½•å­—æ®µéƒ½å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå€¼ï¼Œä½†æ˜¯ï¼Œæ•°ç»„ä¸­çš„æ‰€æœ‰å€¼å¿…é¡»å…·æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ã€‚</p><p>Elasticsearch æ€ä¹ˆä¿®æ”¹ç´¢å¼•å­—æ®µç±»å‹ï¼Ÿ</p><h3 id="å¯ä»¥åœ¨-mapping-ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—" tabindex="-1"><a class="header-anchor" href="#å¯ä»¥åœ¨-mapping-ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—" aria-hidden="true">#</a> å¯ä»¥åœ¨ Mapping ä¸­ç›´æ¥ä¿®æ”¹å­—æ®µç±»å‹å—ï¼Ÿ</h3><p>ä¸å¯ä»¥ï¼Elasticsearch ä¸­çš„ Mapping æœ‰ç‚¹ç±»ä¼¼äºæ•°æ®åº“ä¸­çš„è¡¨ç»“æ„å®šä¹‰ï¼ŒMapping ä¸­çš„å­—æ®µç±»å‹åªèƒ½å¢åŠ ä¸èƒ½ä¿®æ”¹ï¼Œå¦åˆ™åªèƒ½ reindex é‡æ–°ç´¢å¼•æˆ–è€…é‡æ–°è¿›è¡Œæ•°æ®å»ºæ¨¡å¹¶å¯¼å…¥æ•°æ®ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯-nested-æ•°æ®ç±»å‹-æœ‰ä»€ä¹ˆç”¨" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-nested-æ•°æ®ç±»å‹-æœ‰ä»€ä¹ˆç”¨" aria-hidden="true">#</a> <strong>ä»€ä¹ˆæ˜¯ Nested æ•°æ®ç±»å‹ï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong></h3><p>Elasticsearch å®˜æ–¹æ–‡æ¡£æ˜¯è¿™æ ·ä»‹ç» Nested æ•°æ®ç±»å‹çš„ï¼š</p><p>The nested type is a specialised version of the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/object.html" target="_blank" rel="noopener noreferrer">object<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> data type that allows arrays of objects to be indexed in a way that they can be queried independently of each other.</p><p>Nested ï¼ˆåµŒå¥—ï¼‰ç±»å‹æ˜¯å¯¹è±¡æ•°æ®ç±»å‹çš„ç‰¹æ®Šç‰ˆæœ¬ï¼Œå®ƒå…è®¸å¯¹è±¡æ•°ç»„ä»¥ä¸€ç§å¯ä»¥ç›¸äº’ç‹¬ç«‹æŸ¥è¯¢çš„æ–¹å¼è¿›è¡Œç´¢å¼•ã€‚</p><p>Nested æ•°æ®ç±»å‹å¯ä»¥é¿å… <strong>æ•°ç»„æ‰å¹³åŒ–å¤„ç†</strong>ï¼Œå¤šä¸ªæ•°ç»„çš„å­—æ®µä¼šåšä¸€ä¸ªç¬›å¡å°”ç§¯ï¼Œå¯¼è‡´æŸ¥è¯¢å‡ºä¸å­˜åœ¨çš„æ•°æ®ã€‚</p><p>å¦‚æœæ‚¨éœ€è¦ç´¢å¼•å¯¹è±¡æ•°ç»„å¹¶ä¿æŒæ•°ç»„ä¸­æ¯ä¸ªå¯¹è±¡çš„ç‹¬ç«‹æ€§ï¼Œè¯·ä½¿ç”¨ Nested æ•°æ®ç±»å‹è€Œä¸æ˜¯å¯¹è±¡æ•°æ®ç±»å‹ã€‚</p><p><strong>å°†å¤šä¸ªå­—æ®µå€¼åˆå¹¶ä¸ºä¸€ä¸ªå­—æ®µæ€ä¹ˆåšï¼Ÿ</strong></p><p>ä½¿ç”¨ copy_to ï¼Œæ¯”å¦‚å°† first_name å’Œ last_name åˆå¹¶ä¸º full_name ï¼Œä½† full_name ä¸åœ¨æŸ¥è¯¢ç»“æœä¸­å±•ç¤º</p><h2 id="mapping" tabindex="-1"><a class="header-anchor" href="#mapping" aria-hidden="true">#</a> Mapping</h2><h3 id="ä»€ä¹ˆæ˜¯-mapping" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-mapping" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯ Mapping?</h3><p>Mappingï¼ˆæ˜ å°„ï¼‰å®šä¹‰å­—æ®µåç§°ã€æ•°æ®ç±»å‹ã€ä¼˜åŒ–ä¿¡æ¯ï¼ˆæ¯”å¦‚æ˜¯å¦ç´¢å¼•)ã€åˆ†è¯å™¨ï¼Œæœ‰ç‚¹ç±»ä¼¼äºæ•°æ®åº“ä¸­çš„è¡¨ç»“æ„å®šä¹‰ã€‚ä¸€ä¸ª Index å¯¹åº”ä¸€ä¸ª Mappingã€‚</p><p>Mapping åˆ†ä¸ºåŠ¨æ€ Mapping å’Œæ˜¾ç¤º Mapping ä¸¤ç§ï¼š</p><ul><li><p>åŠ¨æ€ Mappingï¼šæ ¹æ®å¾…ç´¢å¼•æ•°æ®è‡ªåŠ¨å»ºç«‹ç´¢å¼•ã€è‡ªåŠ¨å®šä¹‰æ˜ å°„ç±»å‹ã€‚</p></li><li><p>æ˜¾ç¤º Mappingï¼šæ‰‹åŠ¨æ§åˆ¶å­—æ®µçš„å­˜å‚¨å’Œç´¢å¼•æ–¹å¼æ¯”å¦‚å“ªäº›å­—ç¬¦ä¸²å­—æ®µåº”è¢«è§†ä¸ºå…¨æ–‡å­—æ®µã€‚</p></li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">// æ˜¾ç¤ºæ˜ å°„åˆ›å»ºç´¢å¼•</span>
PUT /my-index<span class="token number">-000001</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;age&quot;</span><span class="token operator">:</span>    <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span><span class="token operator">:</span>  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span>   <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span>  <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŠ¨æ€ Mapping ä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œåœ¨åˆå­¦ Elasticsearch çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€‚å®é™…é¡¹ç›®ä¸­ï¼Œåº”è¯¥å°½é‡æ‰‹åŠ¨å®šä¹‰æ˜ å°„å…³ç³»ã€‚</p><h3 id="ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š-mapping" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š-mapping" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆæ’å…¥æ•°æ®ä¸ç”¨æŒ‡å®š Mappingï¼Ÿ</h3><p>å› ä¸ºåœ¨å†™å…¥æ–‡æ¡£æ—¶ï¼Œå¦‚æœç´¢å¼•ä¸å­˜åœ¨ï¼ŒElasticsearch ä¼šè‡ªåŠ¨æ ¹æ®æ•°æ®ç±»å‹ <strong>è‡ªåŠ¨æ¨æ–­ Mapping ä¿¡æ¯</strong> ï¼ˆDynamic Mappingï¼‰ï¼Œä½†æœ‰æ—¶å€™ä¸æ˜¯å¾ˆå‡†ç¡®ã€‚</p><h3 id="æœ‰è‡ªå®šä¹‰è¿‡-mapping-å—-ä½ æ˜¯æ€ä¹ˆåšçš„" tabindex="-1"><a class="header-anchor" href="#æœ‰è‡ªå®šä¹‰è¿‡-mapping-å—-ä½ æ˜¯æ€ä¹ˆåšçš„" aria-hidden="true">#</a> æœ‰è‡ªå®šä¹‰è¿‡ Mapping å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</h3><p>å¦‚æœçº¯æ‰‹å†™çš„è¯ï¼Œå·¥ä½œé‡å¤ªå¤§ï¼Œè¿˜å®¹æ˜“å†™é”™ï¼Œæ‰€ä»¥å¯ä»¥å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š</p><p>1åˆ›å»ºä¸´æ—¶ Indexï¼Œæ’å…¥ä¸€äº›ä¸´æ—¶æ•°æ®ï¼› 2è®¿é—® Mapping API ,è·å–ç›¸å…³ Mapping å®šä¹‰ï¼› 3åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¦‚æ·»åŠ  keywordï¼Œnestedç±»å‹ï¼› 4åˆ é™¤ä¸´æ—¶ Indexã€‚</p><h3 id="åŠ¨æ€-mapping-æœ‰å‡ ç§å±æ€§é…ç½®" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€-mapping-æœ‰å‡ ç§å±æ€§é…ç½®" aria-hidden="true">#</a> åŠ¨æ€ Mapping æœ‰å‡ ç§å±æ€§é…ç½®ï¼Ÿ</h3><p>4 ç§ï¼Œå¯åœ¨ Mapping ä¸­é…ç½® dynamic = true/runtime/false/strict ï¼ˆé»˜è®¤ä¸º trueï¼‰ã€‚</p><ul><li>dynamic = true : æ–°å­—æ®µè¢«æ·»åŠ åˆ°æ˜ å°„ä¸­ï¼ˆé»˜è®¤ï¼‰</li><li>dynamic = runtime æ–°å­—æ®µä½œä¸ºè¿è¡Œæ—¶å­—æ®µæ·»åŠ åˆ°æ˜ å°„ä¸­ï¼Œè¿™äº›å­—æ®µæœªç¼–å…¥ç´¢å¼•ï¼Œå¹¶_source åœ¨æŸ¥è¯¢æ—¶åŠ è½½ã€‚</li><li>dynamic = false ï¼šæ–°å­—æ®µå°†è¢«å¿½ç•¥ï¼Œè¿™äº›å­—æ®µä¸ä¼šè¢«ç´¢å¼•æˆ–å¯æœç´¢</li><li>dynamic = strict ï¼š å¦‚æœæ£€æµ‹åˆ°æ–°å­—æ®µï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸å¹¶æ‹’ç»æ–‡æ¡£ï¼Œæ–°å­—æ®µå¿…é¡»æ˜¾å¼æ·»åŠ åˆ°æ˜ å°„ä¸­ã€‚</li></ul><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312017.png" alt="4f30bb09-ae17-4d30-8bec-afb58d4e919f (1)"></p><h3 id="åŠ¨æ€-mapping-å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ " tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€-mapping-å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ " aria-hidden="true">#</a> åŠ¨æ€ Mapping å¦‚ä½•é˜²æ­¢å­—æ®µæ— é™å¢åŠ ï¼Ÿ</h3><p>æ‘˜è‡ªå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-settings-limit.html" target="_blank" rel="noopener noreferrer">Mapping limit settings<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</p><p>å¦‚æœä½¿ç”¨äº†åŠ¨æ€æ˜ å°„ï¼Œæ’å…¥çš„æ¯ä¸ªæ–°æ–‡æ¡£éƒ½å¯èƒ½å¼•å…¥æ–°å­—æ®µã€‚åœ¨ç´¢å¼•ä¸­å®šä¹‰å¤ªå¤šå­—æ®µä¼šå¯¼è‡´ <strong>æ˜ å°„çˆ†ç‚¸</strong> ï¼Œä»è€Œå¯¼è‡´å†…å­˜ä¸è¶³çš„é”™è¯¯å’Œéš¾ä»¥æ¢å¤çš„æƒ…å†µã€‚ä½¿ç”¨ <strong>æ˜ å°„é™åˆ¶è®¾ç½®</strong> æ¥é™åˆ¶å­—æ®µæ˜ å°„çš„æ•°é‡ï¼ˆæ‰‹åŠ¨æˆ–åŠ¨æ€åˆ›å»ºï¼‰å¹¶é˜²æ­¢æ˜ å°„çˆ†ç‚¸ã€‚</p><ul><li><p>index.mapping.total_fields.limitï¼šé™åˆ¶äº†ç´¢å¼•ä¸­çš„å­—æ®µæœ€å¤§æ•°é‡ã€‚å­—æ®µã€å¯¹è±¡æ˜ å°„ä»¥åŠå­—æ®µåˆ«åè®¡å…¥æ­¤é™åˆ¶ï¼Œé»˜è®¤å€¼ä¸º <strong>1000</strong>ã€‚é™åˆ¶çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢æ˜ å°„å’Œæœç´¢å˜å¾—å¤ªå¤§ã€‚è¾ƒé«˜çš„å€¼ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™å’Œå†…å­˜é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨è´Ÿè½½é«˜æˆ–èµ„æºå¾ˆå°‘çš„é›†ç¾¤ä¸­ã€‚</p></li><li><p>index.mapping.depth.limitï¼šå­—æ®µçš„æœ€å¤§æ·±åº¦ï¼Œä»¥å†…éƒ¨å¯¹è±¡çš„æ•°é‡æ¥è¡¡é‡ã€‚å¦‚æœæ‰€æœ‰å­—æ®µéƒ½åœ¨æ ¹å¯¹è±¡çº§åˆ«å®šä¹‰ï¼Œåˆ™æ·±åº¦ä¸º 1ã€‚å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ˜ å°„ï¼Œåˆ™æ·±åº¦ä¸º 2 ï¼Œé»˜è®¤ä¸º <strong>20</strong>ã€‚</p></li><li><p>index.mapping.nested_fields.limitï¼šnestedç´¢å¼•ä¸­ä¸åŒæ˜ å°„çš„æœ€å¤§æ•°é‡ï¼Œnestedç±»å‹åªåº”åœ¨éœ€è¦ç›¸äº’ç‹¬ç«‹åœ°æŸ¥è¯¢å¯¹è±¡æ•°ç»„æ—¶ä½¿ç”¨ï¼Œé»˜è®¤ä¸º <strong>50</strong>ã€‚</p></li><li><p>index.mapping.nested_objects.limitï¼šå•ä¸ªæ–‡æ¡£å¯ä»¥åŒ…å«çš„åµŒå¥— JSON å¯¹è±¡ï¼ˆnestedç±»å‹ï¼‰çš„æœ€å¤§æ•°é‡ï¼Œé»˜è®¤ä¸º <strong>10000</strong>ã€‚</p></li><li><p>index.mapping.field_name_length.limitï¼šè®¾ç½®å­—æ®µåç§°çš„æœ€å¤§é•¿åº¦ï¼Œé»˜è®¤ä¸º Long.MAX_VALUEï¼ˆæ— é™åˆ¶ï¼‰ã€‚</p></li><li><p>index.mapping.dimension_fields.limitï¼šä»…ä¾› Elastic å†…éƒ¨ä½¿ç”¨ï¼Œç´¢å¼•çš„æœ€å¤§æ—¶é—´åºåˆ—ç»´åº¦æ•°ï¼›é»˜è®¤ä¸º <strong>16</strong>ã€‚</p><p>åœ¨ Mapping ä¸­è®¾ç½®å±æ€§ index = falseï¼Œåˆ™è¯¥å­—æ®µä¸å¯ä½œä¸ºæ£€ç´¢æ¡ä»¶ï¼Œä½†ç»“æœä¸­è¿˜æ˜¯åŒ…å«è¯¥å­—æ®µ</p></li></ul><h3 id="æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåš" tabindex="-1"><a class="header-anchor" href="#æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåš" aria-hidden="true">#</a> æƒ³è¦æŸä¸ªå­—æ®µä¸è¢«ç´¢å¼•æ€ä¹ˆåšï¼Ÿ</h3><p>ä¸æ­¤ç›¸å…³çš„å±æ€§è¿˜æœ‰ index_options å¯ä»¥<strong>æ§åˆ¶å€’æ’ç´¢å¼•è®°å½•å†…å®¹</strong>ï¼Œå±æ€§æœ‰ï¼š</p><ul><li>docs: åªåŒ…æ‹¬ docID</li><li>freqs: åŒ…æ‹¬ docID/è¯é¢‘</li><li>optionsï¼šé»˜è®¤å±æ€§ï¼ŒdocID/è¯é¢‘/ä½ç½®</li><li>offsets: docID/è¯é¢‘/ä½ç½®/å­—ç¬¦åç§»é‡</li></ul><p>è®°å½•å†…å®¹è¶Šå¤šï¼Œå ç”¨ç©ºé—´è¶Šå¤§ï¼Œä½†æ˜¯æ£€ç´¢è¶Šç²¾ç¡®</p><h2 id="æŸ¥è¯¢è¯­å¥" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢è¯­å¥" aria-hidden="true">#</a> æŸ¥è¯¢è¯­å¥</h2><h3 id="æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»" aria-hidden="true">#</a> æŸ¥è¯¢è¯­å¥çš„åˆ†ç±»ï¼Ÿ</h3><p><strong>1ã€è¯·æ±‚ä½“æŸ¥è¯¢ï¼ˆæœ€å¸¸ç”¨ï¼‰</strong></p><p>å°†ç›¸å…³æŸ¥è¯¢æ¡ä»¶æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚</p><p>è¯·æ±‚ä½“æŸ¥è¯¢åˆç§°ä¸º Query DSL (Domain Specific Language) é¢†åŸŸç‰¹å®šè¯­è¨€ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>å¶å­æŸ¥è¯¢ï¼šæŒ‡å®šæ¡ä»¶æŒ‡å®šå­—æ®µæŸ¥è¯¢ï¼ŒåŒ…æ‹¬term<strong>åˆ†è¯æŸ¥è¯¢</strong>å’Œ<strong>å…¨æ–‡æ£€ç´¢</strong>ï¼ˆmatchï¼Œmatch_phrase)</li><li>å¤åˆæŸ¥è¯¢ï¼šå¯åŒ…å«å¶å­æŸ¥è¯¢è¯­å¥å’Œå¤åˆæŸ¥è¯¢ï¼Œä¸»è¦åŒ…æ‹¬boolå’Œ dis_max</li></ul><p><strong>2ã€è¯·æ±‚ URI</strong></p><p>å°†ç›¸å…³æŸ¥è¯¢æ¡ä»¶æ”¾åœ¨ URI ä¸­ï¼Œè¿™ç§æ–¹å¼ä¸å¸¸ç”¨ï¼Œäº†è§£å³å¯</p><p><strong>3ã€ç±» SQL æ£€ç´¢</strong></p><p>åŠŸèƒ½è¿˜ä¸å®Œå¤‡ï¼Œä¸æ¨èä½¿ç”¨ã€‚</p><h3 id="term-æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#term-æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«" aria-hidden="true">#</a> Term æŸ¥è¯¢å’Œå…¨æ–‡æ£€ç´¢åŒºåˆ«ï¼Ÿ</h3><p>term æŸ¥è¯¢æ¡ä»¶ä¸åšåˆ†è¯å¤„ç†ï¼Œåªæœ‰æŸ¥è¯¢è¯å’Œæ–‡æ¡£ä¸­çš„è¯ç²¾ç¡®åŒ¹é…æ‰ä¼šè¢«æœç´¢åˆ°ï¼Œä¸€èˆ¬ç”¨äº<strong>éæ–‡æœ¬å­—æ®µæŸ¥è¯¢</strong>ã€‚</p><p>å…¨æ–‡æ£€ç´¢ä¸€èˆ¬ç”¨äº <strong>æ–‡æœ¬æŸ¥è¯¢</strong> ï¼Œä¼šä½¿ç”¨å¯¹åº”åˆ†è¯å™¨ï¼Œæ­¥éª¤ä¸ºï¼šåˆ†è¯-&gt;è¯é¡¹é€ä¸ªæŸ¥è¯¢-&gt;æ±‡æ€»å¤šä¸ªè¯é¡¹å¾—åˆ†ã€‚</p><h3 id="å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢" aria-hidden="true">#</a> å¦‚ä½•å®ç°èŒƒå›´æŸ¥è¯¢ï¼Ÿ</h3><p>range æŸ¥è¯¢ç”¨äºåŒ¹é…åœ¨æŸä¸€èŒƒå›´å†…çš„æ•°å€¼å‹ã€æ—¥æœŸç±»å‹æˆ–è€…å­—ç¬¦ä¸²å‹å­—æ®µçš„æ–‡æ¡£ï¼Œæ¯”å¦‚å‡ºç”Ÿæ—¥æœŸåœ¨ 1996-01-01 åˆ° 2000-01-01 çš„äººã€‚ä½¿ç”¨ range æŸ¥è¯¢åªèƒ½æŸ¥è¯¢ä¸€ä¸ªå­—æ®µï¼Œä¸èƒ½ä½œç”¨åœ¨å¤šä¸ªå­—æ®µä¸Šã€‚</p><p>range æŸ¥è¯¢æ”¯æŒçš„å‚æ•°æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>gt å¤§äºï¼ŒæŸ¥è¯¢èŒƒå›´çš„æœ€å°å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸‹ç•Œï¼Œä½†æ˜¯ä¸åŒ…å«ä¸´ç•Œå€¼ã€‚</li><li>gte å¤§äºç­‰äºï¼Œå’Œ gt çš„åŒºåˆ«åœ¨äºåŒ…å«ä¸´ç•Œå€¼ã€‚</li><li>lt å°äºï¼ŒæŸ¥è¯¢èŒƒå›´çš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸Šç•Œï¼Œä½†æ˜¯ä¸åŒ…å«ä¸´ç•Œå€¼ã€‚</li><li>lte å°äºç­‰äºï¼Œå’Œ lt çš„åŒºåˆ«åœ¨äºåŒ…å«ä¸´ç•Œå€¼ã€‚</li></ul><h3 id="match-å’Œ-match-phrase-åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#match-å’Œ-match-phrase-åŒºåˆ«" aria-hidden="true">#</a> Match å’Œ Match_phrase åŒºåˆ«ï¼Ÿ</h3><p>match æŸ¥è¯¢å¤šä¸ªæ£€ç´¢è¯ä¹‹é—´é»˜è®¤æ˜¯ or å…³ç³»ï¼Œå¯ä½¿ç”¨ operator æ”¹ä¸º and å…³ç³»</p><p>match_phrase æŸ¥è¯¢å¤šä¸ªæ£€ç´¢è¯ä¹‹é—´é»˜è®¤æ˜¯ and å…³ç³»ï¼Œå¹¶ä¸”è¯çš„ä½ç½®å…³ç³»å½±å“æœç´¢ç»“æœ</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312848.png" alt="987df2b8-e06c-4cbe-be71-9743b01c9b98"></p><h3 id="multi-match-æœ‰å‡ ç§åŒ¹é…ç­–ç•¥-éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#multi-match-æœ‰å‡ ç§åŒ¹é…ç­–ç•¥-éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«" aria-hidden="true">#</a> Multi match æœ‰å‡ ç§åŒ¹é…ç­–ç•¥ï¼Œéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>Multi match ç”¨äº<strong>å•æ¡ä»¶å¤šå­—æ®µæŸ¥è¯¢</strong>ï¼Œæœ‰ä»¥ä¸‹å‡ ç§å¸¸ç”¨çš„åŒ¹é…ç­–ç•¥ï¼š</p><ul><li>best_fields(é»˜è®¤) ï¼šæŸ¥è¯¢ç»“æœåŒ…å«ä»»ä¸€æŸ¥è¯¢æ¡ä»¶ï¼Œä½†æœ€ç»ˆå¾—åˆ†<strong>ä¸ºæœ€ä½³åŒ¹é…å­—æ®µå¾—åˆ†</strong></li><li>most_fields ï¼šæŸ¥è¯¢ç»“æœåŒ…å«ä»»ä¸€æŸ¥è¯¢æ¡ä»¶ï¼Œä½†æœ€ç»ˆå¾—åˆ† <strong>åˆå¹¶æ‰€æœ‰åŒ¹é…å­—æ®µå¾—åˆ†</strong>ï¼Œé»˜è®¤æŸ¥è¯¢æ¡ä»¶ä¹‹é—´æ˜¯ or è¿æ¥</li><li>cross_fields ï¼šè·¨å­—æ®µåŒ¹é…,è§£å†³äº†most_fields æŸ¥è¯¢è¯æ— æ³•ä½¿ç”¨ and è¿æ¥çš„é—®é¢˜ï¼ŒåŒ¹é…æ›´åŠ ç²¾ç¡®ï¼Œandç›¸å½“äºæ•´åˆå¤šä¸ªå­—æ®µä¸ºä¸€ä¸ªå­—æ®µï¼Œä½†åˆä¸åƒ copy_to å ç”¨å­˜å‚¨ç©ºé—´ã€‚</li></ul><h3 id="bool-æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥" tabindex="-1"><a class="header-anchor" href="#bool-æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥" aria-hidden="true">#</a> bool æŸ¥è¯¢æœ‰å‡ ç§æŸ¥è¯¢å­å¥ï¼Ÿ</h3><ul><li>bool ä¸€èˆ¬ç”¨äºå¤šæ¡ä»¶å¤šå­—æ®µæŸ¥è¯¢,å¯åŒ…å« match ï¼Œmatch_phrase ï¼Œterm ç­‰ç®€å•æŸ¥è¯¢è¯­å¥ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ 4 ç§æŸ¥è¯¢å­å¥</li><li>must: ç»“æœå¿…é¡»åŒ¹é… must æŸ¥è¯¢æ¡ä»¶ï¼Œè´¡çŒ®ç®—åˆ†</li><li>shouldï¼š ç»“æœåº”è¯¥åŒ¹é… should å­å¥æŸ¥è¯¢çš„ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œè´¡çŒ®ç®—åˆ†</li><li>must_notï¼š ç»“æœå¿…é¡»ä¸èƒ½åŒ¹é…è¯¥æŸ¥è¯¢æ¡ä»¶</li><li>filterï¼š ç»“æœå¿…é¡»åŒ¹é…è¯¥è¿‡æ»¤æ¡ä»¶ï¼Œ<strong>ä½†ä¸è®¡ç®—å¾—åˆ†</strong>ï¼Œå¯æé«˜æŸ¥è¯¢æ•ˆç‡</li></ul><p>æ¯”å¦‚ï¼Œä½ æƒ³åœ¨åŒ—äº¬æ‰¾ä¸€ä¸ªæœ‰æˆ¿æˆ–è€…æœ‰è½¦ ï¼Œèº«é«˜ä¸ä½äº 150 çš„å¥³æœ‹å‹ï¼Œä¸‹é¢è¿™æ¡è¯­å¥å®‰æ’ä¸Šã€‚</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>GET /users/_search
<span class="token punctuation">{</span>
  <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;bool&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;must&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;match&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token string">&quot;female&quot;</span> <span class="token comment">//æ€§åˆ«å¿…é¡»ä¸ºå¥³</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;should&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;match&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;hasroom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span> <span class="token comment">//æœ‰æˆ¿æˆ–è€…æœ‰è½¦</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;match&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;hascar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;must_not&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;range&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;height&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;gte&quot;</span><span class="token operator">:</span> <span class="token number">150</span> <span class="token comment">//èº«é«˜ä¸ä½äº150</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;term&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;åŒ—äº¬&quot;</span> <span class="token comment">//å¿…é¡»åŒ—äº¬ï¼Œä¸è¿‡ä¸ç®—åˆ†</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®åŒæ­¥" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åŒæ­¥" aria-hidden="true">#</a> æ•°æ®åŒæ­¥</h2><h3 id="elasticsearch-å’Œ-mysql-åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#elasticsearch-å’Œ-mysql-åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›" aria-hidden="true">#</a> Elasticsearch å’Œ MySQL åŒæ­¥çš„ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</h3><p>æˆ‘ä»¬å¯ä»¥å°†åŒæ­¥ç±»å‹åˆ†ä¸º <strong>å…¨é‡åŒæ­¥</strong>å’Œ<strong>å¢é‡åŒæ­¥</strong>ã€‚</p><p>å…¨é‡åŒæ­¥å³å»ºå¥½ Elasticsearch ç´¢å¼•åä¸€æ¬¡æ€§å¯¼å…¥ MySQL æ‰€æœ‰æ•°æ®ã€‚å…¨é‡åŒæ­¥æœ‰å¾ˆå¤šç°æˆçš„å·¥å…·å¯ä»¥ç”¨æ¯”å¦‚ go-mysql-elasticsearchã€Dataxã€‚</p><p>go-mysql-elasticsearch æ˜¯ä¸€é¡¹å°† MySQL æ•°æ®è‡ªåŠ¨åŒæ­¥åˆ° Elasticsearch çš„æœåŠ¡ï¼ŒåŒæ ·æ”¯æŒå¢é‡åŒæ­¥ã€‚Github åœ°å€ï¼š<a href="https://github.com/go-mysql-org/go-mysql-elasticsearch" target="_blank" rel="noopener noreferrer">https://github.com/go-mysql-org/go-mysql-elasticsearch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</p><p>DataX æ˜¯é˜¿é‡Œäº‘ DataWorks æ•°æ®é›†æˆ çš„å¼€æºç‰ˆæœ¬ï¼Œåœ¨é˜¿é‡Œå·´å·´é›†å›¢å†…è¢«å¹¿æ³›ä½¿ç”¨çš„ç¦»çº¿æ•°æ®åŒæ­¥å·¥å…·/å¹³å°ã€‚DataX å®ç°äº†åŒ…æ‹¬ MySQLã€Oracleã€OceanBaseã€SqlServerã€Postgreã€HDFSã€Hiveã€ADSã€HBaseã€TableStore(OTS)ã€MaxCompute(ODPS)ã€Hologresã€DRDS ç­‰å„ç§å¼‚æ„æ•°æ®æºä¹‹é—´é«˜æ•ˆçš„æ•°æ®åŒæ­¥åŠŸèƒ½ã€‚Github åœ°å€ï¼š https://github.com/alibaba/DataXã€‚</p><p>å¦å¤–ï¼Œé™¤äº†æ’ä»¶ä¹‹å¤–ï¼Œåƒæˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„ Canal é™¤äº†æ”¯æŒ binlog å®æ—¶å¢é‡åŒæ­¥ æ•°æ®åº“ä¹‹å¤–ä¹Ÿæ”¯æŒå…¨é‡åŒæ­¥ ã€‚</p><p>å¢é‡åŒæ­¥å³å¯¹ MySQL ä¸­æ–°å¢ï¼Œä¿®æ”¹ï¼Œåˆ é™¤çš„æ•°æ®è¿›è¡ŒåŒæ­¥:</p><ul><li><strong>åŒæ­¥åŒå†™</strong> ï¼šä¿®æ”¹æ•°æ®æ—¶åŒæ­¥åˆ° Elasticsearchã€‚è¿™ç§æ–¹å¼æ€§èƒ½è¾ƒå·®ã€å­˜åœ¨ä¸¢æ•°æ®é£é™©ä¸”ä¼šè€¦åˆå¤§é‡æ•°æ®åŒæ­¥ä»£ç ï¼Œä¸€èˆ¬ä¸ä¼šä½¿ç”¨ã€‚</li><li><strong>å¼‚æ­¥åŒå†™</strong> ï¼šä¿®æ”¹æ•°æ®æ—¶ï¼Œä½¿ç”¨ MQ å¼‚æ­¥å†™å…¥ Elasticsearch æé«˜æ•ˆç‡ã€‚è¿™ç§æ–¹å¼å¼•å…¥äº†æ–°çš„ç»„ä»¶å’ŒæœåŠ¡ï¼Œå¢åŠ äº†ç³»ç»Ÿæ•´ä½“å¤æ‚æ€§ã€‚</li><li><strong>å®šæ—¶å™¨</strong> ï¼šå®šæ—¶åŒæ­¥æ•°æ®åˆ° Elasticsearchã€‚è¿™ç§æ–¹å¼æ—¶æ•ˆæ€§å·®ï¼Œé€šå¸¸ç”¨äºæ•°æ®å®æ—¶æ€§ä¸é«˜çš„åœºæ™¯ <strong>binlog åŒæ­¥ç»„ä»¶ Canal(æ¨è)</strong> ï¼š ä½¿ç”¨ Canal å¯ä»¥åšåˆ°ä¸šåŠ¡ä»£ç å®Œå…¨è§£è€¦ï¼ŒAPI å®Œå…¨è§£è€¦ï¼Œé›¶ä»£ç å®ç°å‡†å®æ—¶åŒæ­¥, Canal é€šè¿‡è§£æ MySQL çš„ binlog æ—¥å¿—æ–‡ä»¶è¿›è¡Œæ•°æ®åŒæ­¥ã€‚</li><li>å…³äºå¢é‡åŒæ­¥çš„è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥çœ‹è¿™ç¯‡å›ç­”ï¼š <a href="https://www.zhihu.com/question/47600589/answer/2843488695" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/47600589/answer/2843488695<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</li></ul><h3 id="canal-å¢é‡æ•°æ®åŒæ­¥-elasticsearch-çš„åŸç†äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#canal-å¢é‡æ•°æ®åŒæ­¥-elasticsearch-çš„åŸç†äº†è§£å—" aria-hidden="true">#</a> Canal å¢é‡æ•°æ®åŒæ­¥ Elasticsearch çš„åŸç†äº†è§£å—ï¼Ÿ</h3><p>è¿™ä¸ªåœ¨ Canal å®˜æ–¹æ–‡æ¡£ä¸­æœ‰è¯¦ç»†ä»‹ç»åˆ°ï¼ŒåŸç†éå¸¸ç®€å•ï¼š</p><ol><li>Canal æ¨¡æ‹Ÿ MySQL Slave èŠ‚ç‚¹ä¸ MySQL Master èŠ‚ç‚¹çš„äº¤äº’åè®®ï¼ŒæŠŠè‡ªå·±ä¼ªè£…æˆä¸€ä¸ª MySQL Slave èŠ‚ç‚¹ï¼Œå‘ MySQL Master èŠ‚ç‚¹è¯·æ±‚ binlogï¼›</li><li>2MySQL Master èŠ‚ç‚¹æ¥æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œæ ¹æ®åç§»é‡å°†æ–°çš„ binlog å‘é€ç»™ MySQL Slave èŠ‚ç‚¹ï¼›</li><li>3Canal æ¥æ”¶åˆ° binlog ä¹‹åï¼Œå°±å¯ä»¥å¯¹è¿™éƒ¨åˆ†æ—¥å¿—è¿›è¡Œè§£æï¼Œè·å–ä¸»åº“çš„ç»“æ„åŠæ•°æ®å˜æ›´ã€‚</li></ol><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312822.png" alt="image-20230321230427641"></p><h2 id="elasticsearch-é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#elasticsearch-é›†ç¾¤" aria-hidden="true">#</a> Elasticsearch é›†ç¾¤</h2><h3 id="elasticsearch-é›†ç¾¤æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" tabindex="-1"><a class="header-anchor" href="#elasticsearch-é›†ç¾¤æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" aria-hidden="true">#</a> Elasticsearch é›†ç¾¤æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>å•å° Elasticsearch æœåŠ¡å™¨è´Ÿè½½èƒ½åŠ›å’Œå­˜å‚¨èƒ½åŠ›æœ‰é™ï¼Œå¾ˆå¤šæ—¶å€™é€šè¿‡å¢åŠ æœåŠ¡å™¨é…ç½®ä¹Ÿæ²¡åŠæ³•æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚å¹¶ä¸”ï¼Œå•ä¸ª Elasticsearch èŠ‚ç‚¹ä¼šå­˜åœ¨å•ç‚¹é£é™©ï¼Œæ²¡æœ‰åšåˆ°é«˜å¯ç”¨ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ­å»º Elasticsearch é›†ç¾¤ã€‚</p><p>Elasticsearch é›†ç¾¤è¯´ç™½äº†å°±æ˜¯å¤šä¸ª Elasticsearch èŠ‚ç‚¹çš„é›†åˆï¼Œè¿™äº›èŠ‚ç‚¹å…±åŒåä½œï¼Œä¸€èµ·æä¾›æœåŠ¡ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³å•å° Elasticsearch æœåŠ¡å™¨æ— æ³•å¤„ç†çš„æœç´¢éœ€æ±‚å’Œæ•°æ®å­˜å‚¨éœ€æ±‚ã€‚å‡ºäºé«˜å¯ç”¨æ–¹é¢çš„è€ƒè™‘ï¼Œé›†ç¾¤ä¸­èŠ‚ç‚¹æ•°é‡å»ºè®® 3 ä¸ªä»¥ä¸Šï¼Œå¹¶ä¸”å…¶ä¸­è‡³å°‘ä¸¤ä¸ªèŠ‚ç‚¹ä¸æ˜¯ä»…æŠ•ç¥¨ä¸»èŠ‚ç‚¹ï¼ˆåæ–‡ä¼šä»‹ç»åˆ°ï¼‰ã€‚</p><p><img src="https://pics-cloud.oss-cn-beijing.aliyuncs.com/202303212312956.png" alt="9b78cbe7-2601-490d-b663-905bc798469b"></p><p>Elasticsearch é›†ç¾¤å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°æ¨ªå‘æ‰©å±•ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€æ·»åŠ æˆ–è€…åˆ é™¤ Elasticsearch èŠ‚ç‚¹ã€‚å½“æœ‰èŠ‚ç‚¹åŠ å…¥é›†ç¾¤ä¸­æˆ–è€…ä»é›†ç¾¤ä¸­ç§»é™¤èŠ‚ç‚¹æ—¶ï¼Œé›†ç¾¤å°†ä¼šé‡æ–°å¹³å‡åˆ†å¸ƒæ‰€æœ‰çš„æ•°æ®ã€‚</p><h3 id="elasticsearch-é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#elasticsearch-é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›" aria-hidden="true">#</a> Elasticsearch é›†ç¾¤ä¸­çš„èŠ‚ç‚¹è§’è‰²æœ‰å“ªäº›ï¼Ÿ</h3><p>Elasticsearch 7.9 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­çš„èŠ‚ç‚¹ç±»å‹ï¼šæ•°æ®èŠ‚ç‚¹ã€åè°ƒèŠ‚ç‚¹ã€å€™é€‰ä¸»èŠ‚ç‚¹ã€ingest èŠ‚ç‚¹ã€‚åœ¨ Elasticsearch 7.9 ä»¥åŠä¹‹åï¼ŒèŠ‚ç‚¹ç±»å‹å‡çº§ä¸ºèŠ‚ç‚¹è§’è‰²ï¼ˆNode rolesï¼‰ã€‚èŠ‚ç‚¹è§’è‰²åˆ†çš„å¾ˆç»†ï¼šæ•°æ®èŠ‚ç‚¹è§’è‰²ã€ä¸»èŠ‚ç‚¹è§’è‰²ã€ingest èŠ‚ç‚¹è§’è‰²ã€çƒ­èŠ‚ç‚¹è§’è‰²ç­‰ã€‚</p><p>èŠ‚ç‚¹è§’è‰²ä¸»è¦æ˜¯ä¸ºäº†è§£å†³åŸºäºèŠ‚ç‚¹ç±»å‹é…ç½®å¤æ‚å’Œç”¨æˆ·ä½“éªŒå·®çš„é—®é¢˜ã€‚</p><p>Elasticsearch é›†ç¾¤ä¸€èˆ¬æ˜¯ç”±å¤šä¸ªèŠ‚ç‚¹å…±åŒç»„æˆçš„åˆ†å¸ƒå¼é›†ç¾¤ï¼ŒèŠ‚ç‚¹ä¹‹é—´äº’é€šï¼Œå½¼æ­¤é…åˆï¼Œå…±åŒå¯¹å¤–æä¾›æœç´¢å’Œç´¢å¼•æœåŠ¡ï¼ˆèŠ‚ç‚¹ä¹‹é—´èƒ½å¤Ÿå°†å®¢æˆ·ç«¯è¯·æ±‚è½¬å‘åˆ°åˆé€‚çš„èŠ‚ç‚¹ï¼‰ã€‚ä¸åŒçš„èŠ‚ç‚¹ä¼šè´Ÿè´£ä¸åŒçš„è§’è‰²ï¼Œæœ‰çš„è´Ÿè´£ä¸€ä¸ªï¼Œæœ‰çš„å¯èƒ½è´Ÿè´£å¤šä¸ªã€‚</p><p>åœ¨ ES ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®ä½¿ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä»¥ä¸‹ä¸€ä¸ªæˆ–å¤šä¸ªè§’è‰²ï¼š</p><ul><li><strong>ä¸»èŠ‚ç‚¹ï¼ˆMaster-eligible nodeï¼‰</strong> ï¼šé›†ç¾¤å±‚é¢çš„ç®¡ç†ï¼Œä¾‹å¦‚åˆ›å»ºæˆ–åˆ é™¤ç´¢å¼•ã€è·Ÿè¸ªå“ªäº›èŠ‚ç‚¹æ˜¯é›†ç¾¤çš„ä¸€éƒ¨åˆ†ï¼Œä»¥åŠå†³å®šå°†å“ªäº›åˆ†ç‰‡åˆ†é…ç»™å“ªäº›èŠ‚ç‚¹ã€‚ä»»ä½•ä¸æ˜¯ä»…æŠ•ç¥¨ä¸»èŠ‚ç‚¹çš„åˆæ ¼ä¸»èŠ‚ç‚¹éƒ½å¯ä»¥é€šè¿‡ä¸»é€‰ä¸¾è¿‡ç¨‹è¢«é€‰ä¸ºä¸»èŠ‚ç‚¹ã€‚ <ul><li><strong>ä¸“ç”¨å¤‡é€‰ä¸»èŠ‚ç‚¹ï¼ˆDedicated master-eligible nodeï¼‰</strong> ï¼š Elasticsearch é›†ç¾¤ä¸­ï¼Œè®¾ç½®äº†åªèƒ½ä½œä¸ºä¸»èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚è®¾ç½®ä¸“ç”¨ä¸»èŠ‚ç‚¹ä¸»è¦æ˜¯ä¸ºäº†ä¿éšœé›†ç¾¤å¢å¤§æ—¶çš„ç¨³å®šæ€§ï¼Œå»ºè®®ä¸“ç”¨ä¸»èŠ‚ç‚¹ä¸ªæ•°è‡³å°‘ä¸º 3 ä¸ªã€‚</li><li><strong>ä»…æŠ•ç¥¨ä¸»èŠ‚ç‚¹ï¼ˆVoting-only master-eligible nodeï¼‰</strong>: ä»…å‚ä¸ä¸»èŠ‚ç‚¹é€‰ä¸¾æŠ•ç¥¨ï¼Œä¸ä¼šè¢«é€‰ä¸ºä¸»èŠ‚ç‚¹ï¼Œç¡¬ä»¶é…ç½®å¯ä»¥è¾ƒä½ã€‚</li></ul></li><li><strong>æ•°æ®èŠ‚ç‚¹ï¼ˆdata nodeï¼‰</strong> ï¼šæ•°æ®å­˜å‚¨å’Œæ•°æ®å¤„ç†æ¯”å¦‚ CRUDã€æœç´¢ã€èšåˆã€‚</li><li><strong>é¢„å¤„ç†èŠ‚ç‚¹ï¼ˆingest nodeï¼‰</strong> ï¼šæ‰§è¡Œç”±é¢„å¤„ç†ç®¡é“ç»„æˆçš„é¢„å¤„ç†ä»»åŠ¡ã€‚</li><li><strong>ä»…åè°ƒèŠ‚ç‚¹ï¼ˆcoordinating only nodeï¼‰</strong> ï¼šè·¯ç”±åˆ†å‘è¯·æ±‚ã€èšé›†æœç´¢æˆ–èšåˆç»“æœã€‚</li><li><strong>è¿œç¨‹èŠ‚ç‚¹ï¼ˆRemote-eligible nodeï¼‰</strong> ï¼šè·¨é›†ç¾¤æ£€ç´¢æˆ–è·¨é›†ç¾¤å¤åˆ¶ã€‚</li><li>......</li></ul><p>é«˜å¯ç”¨æ€§ (HA) é›†ç¾¤éœ€è¦è‡³å°‘ä¸‰ä¸ªç¬¦åˆä¸»èŠ‚ç‚¹æ¡ä»¶çš„èŠ‚ç‚¹ï¼Œå…¶ä¸­è‡³å°‘ä¸¤ä¸ªèŠ‚ç‚¹ä¸æ˜¯ä»…æŠ•ç¥¨ä¸»èŠ‚ç‚¹ã€‚å³ä½¿å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å‘ç”Ÿæ•…éšœï¼Œè¿™æ ·çš„é›†ç¾¤ä¹Ÿèƒ½å¤Ÿé€‰ä¸¾å‡ºä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚</p><h3 id="åˆ†ç‰‡æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" tabindex="-1"><a class="header-anchor" href="#åˆ†ç‰‡æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" aria-hidden="true">#</a> åˆ†ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>ç±»ä¼¼é—®é¢˜ï¼šElasticsearch é›†ç¾¤ä¸­çš„æ•°æ®æ˜¯å¦‚ä½•è¢«åˆ†é…çš„ï¼Ÿ</p><p><strong>åˆ†ç‰‡ï¼ˆShardï¼‰</strong> æ˜¯é›†ç¾¤æ•°æ®çš„å®¹å™¨ï¼ŒIndexï¼ˆç´¢å¼•ï¼‰è¢«åˆ†ä¸ºå¤šä¸ªæ–‡æ¡£ç¢ç‰‡å­˜å‚¨åœ¨åˆ†ç‰‡ä¸­ï¼Œåˆ†ç‰‡åˆè¢«åˆ†é…åˆ°é›†ç¾¤å†…çš„å„ä¸ªèŠ‚ç‚¹é‡Œã€‚å½“éœ€è¦æŸ¥è¯¢ä¸€ä¸ªæ–‡æ¡£æ—¶ï¼Œéœ€è¦å…ˆæ‰¾åˆ°å…¶ä½äºçš„åˆ†ç‰‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†ç‰‡æ˜¯ Elasticsearch åœ¨é›†ç¾¤å†…åˆ†å‘æ•°æ®çš„å•ä½ã€‚</p><p>æ¯ä¸ªåˆ†ç‰‡éƒ½æ˜¯ä¸€ä¸ª Lucene ç´¢å¼•å®ä¾‹ï¼Œæ‚¨å¯ä»¥å°†å…¶è§†ä½œä¸€ä¸ªç‹¬ç«‹çš„æœç´¢å¼•æ“ï¼Œå®ƒèƒ½å¤Ÿå¯¹ Elasticsearch é›†ç¾¤ä¸­çš„æ•°æ®å­é›†è¿›è¡Œç´¢å¼•å¹¶å¤„ç†ç›¸å…³æŸ¥è¯¢ã€‚</p><p><strong>æ•´ä¸ª Elasticsearch é›†ç¾¤çš„æ ¸å¿ƒå°±æ˜¯å¯¹æ‰€æœ‰çš„åˆ†ç‰‡æ‰§è¡Œåˆ†å¸ƒå­˜å‚¨ï¼Œç´¢å¼•ï¼Œè´Ÿè½½ï¼Œè·¯ç”±çš„å·¥ä½œã€‚</strong></p><p>å½“é›†ç¾¤è§„æ¨¡æ‰©å¤§æˆ–è€…ç¼©å°æ—¶ï¼Œ Elasticsearch ä¼šè‡ªåŠ¨çš„åœ¨å„èŠ‚ç‚¹ä¸­è¿ç§»åˆ†ç‰‡ï¼Œä½¿å¾—æ•°æ®ä»ç„¶å‡åŒ€åˆ†å¸ƒåœ¨é›†ç¾¤é‡Œã€‚Elasticsearch åœ¨å¯¹æ•°æ®è¿›è¡Œå†å¹³è¡¡æ—¶ç§»åŠ¨åˆ†ç‰‡çš„é€Ÿåº¦å–å†³äºåˆ†ç‰‡çš„å¤§å°å’Œæ•°é‡ï¼Œä»¥åŠç½‘ç»œå’Œç£ç›˜æ€§èƒ½ã€‚</p><p>ä¸€ä¸ªåˆ†ç‰‡å¯ä»¥æ˜¯ <strong>ä¸»åˆ†ç‰‡ï¼ˆPrimary Shardï¼‰</strong> æˆ–è€… <strong>å‰¯æœ¬åˆ†ç‰‡ï¼ˆReplica Shardï¼‰</strong> ã€‚ä¸€ä¸ªå‰¯æœ¬åˆ†ç‰‡åªæ˜¯ä¸€ä¸ªä¸»åˆ†ç‰‡çš„æ‹·è´ã€‚å‰¯æœ¬åˆ†ç‰‡ä½œä¸ºç¡¬ä»¶æ•…éšœæ—¶ä¿æŠ¤æ•°æ®ä¸ä¸¢å¤±çš„å†—ä½™å¤‡ä»½ï¼Œå¹¶ä¸ºæœç´¢å’Œè¿”å›æ–‡æ¡£ç­‰è¯»æ“ä½œæä¾›æœåŠ¡ã€‚æŸ¥è¯¢ååé‡å¯ä»¥éšç€å‰¯æœ¬åˆ†ç‰‡æ•°é‡çš„å¢åŠ è€Œå¢é•¿ï¼Œä¸æ­¤åŒæ—¶ï¼Œä½¿ç”¨åˆ†ç‰‡å‰¯æœ¬è¿˜å¯ä»¥å¤„ç†æŸ¥è¯¢çš„å‘å¹¶é‡ã€‚</p><p>å½“æˆ‘ä»¬å†™ç´¢å¼•æ•°æ®çš„æ—¶å€™ï¼Œåªèƒ½å†™åœ¨ä¸»åˆ†ç‰‡ä¸Šï¼Œç„¶åå†åŒæ­¥åˆ°å‰¯æœ¬åˆ†ç‰‡ã€‚</p><p>å½“ä¸»åˆ†ç‰‡å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¼šä»å¯ç”¨çš„å‰¯æœ¬åˆ†ç‰‡ä¸­é€‰ä¸¾ä¸€ä¸ªæ–°çš„ä¸»åˆ†ç‰‡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticSearch ä¼šä¸ºä¸»åˆ†ç‰‡åˆ›å»ºä¸€ä¸ªå‰¯æœ¬åˆ†ç‰‡ã€‚ç”±äºå‰¯æœ¬åˆ†ç‰‡åŒæ ·ä¼šå ç”¨èµ„æºï¼Œå› æ­¤ï¼Œä¸å»ºè®®ä¸ºä¸€ä¸ªä¸»åˆ†ç‰‡åˆ†é…è¿‡å¤šçš„å‰¯æœ¬åˆ†ç‰‡ï¼Œåº”è¯¥å……åˆ†ç»“åˆä¸šåŠ¡éœ€æ±‚æ¥é€‰å®šå‰¯æœ¬åˆ†ç‰‡çš„æ•°é‡ã€‚</p><p><strong>ä» Elasticsearch ç‰ˆæœ¬ 7 å¼€å§‹ï¼Œæ¯ä¸ªç´¢å¼•çš„ä¸»åˆ†ç‰‡æ•°é‡çš„é»˜è®¤å€¼ä¸º 1ï¼Œé»˜è®¤çš„å‰¯æœ¬åˆ†ç‰‡æ•°ä¸º 0ã€‚åœ¨æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤å€¼ä¸º 5 ä¸ªä¸»åˆ†ç‰‡ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå‰¯æœ¬åˆ†ç‰‡æ•°è‡³å°‘ä¸º 1ã€‚</strong></p><p>æœ€åï¼Œç®€å•æ€»ç»“ä¸€ä¸‹ï¼š</p><ul><li>åˆ†ç‰‡æ˜¯ Elasticsearch åœ¨é›†ç¾¤å†…åˆ†å‘æ•°æ®çš„å•ä½ã€‚æ•´ä¸ª Elasticsearch é›†ç¾¤çš„æ ¸å¿ƒå°±æ˜¯å¯¹æ‰€æœ‰çš„åˆ†ç‰‡æ‰§è¡Œåˆ†å¸ƒå­˜å‚¨ï¼Œç´¢å¼•ï¼Œè´Ÿè½½ï¼Œè·¯ç”±çš„å·¥ä½œã€‚</li><li>å‰¯æœ¬åˆ†ç‰‡ä¸»è¦æ˜¯ä¸ºäº†æé«˜å¯ç”¨æ€§ï¼Œç”±äºå‰¯æœ¬åˆ†ç‰‡åŒæ ·ä¼šå ç”¨èµ„æºï¼Œä¸å»ºè®®ä¸ºä¸€ä¸ªä¸»åˆ†ç‰‡åˆ†é…è¿‡å¤šçš„å‰¯æœ¬åˆ†ç‰‡ã€‚</li><li>å½“æˆ‘ä»¬å†™ç´¢å¼•æ•°æ®çš„æ—¶å€™ï¼Œåªèƒ½å†™åœ¨ä¸»åˆ†ç‰‡ä¸Šï¼Œç„¶åå†åŒæ­¥åˆ°å‰¯æœ¬åˆ†ç‰‡ã€‚</li><li>å½“ä¸»åˆ†ç‰‡å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¼šä»å¯ç”¨çš„å‰¯æœ¬åˆ†ç‰‡ä¸­é€‰ä¸¾ä¸€ä¸ªæ–°çš„ä¸»åˆ†ç‰‡ã€‚</li></ul><h3 id="æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡" aria-hidden="true">#</a> æŸ¥è¯¢æ–‡æ¡£æ—¶å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„åˆ†ç‰‡ï¼Ÿ</h3><p>æˆ‘ä»¬éœ€è¦æŸ¥è¯¢ä¸€ä¸ªæ–‡æ¡£çš„æ—¶å€™ï¼Œéœ€è¦å…ˆæ‰¾åˆ°å…¶ä½äºé‚£ä¸€ä¸ªåˆ†ç‰‡ä¸­ã€‚é‚£ç©¶ç«Ÿæ˜¯å¦‚ä½•çŸ¥é“ä¸€ä¸ªæ–‡æ¡£åº”è¯¥å­˜æ”¾åœ¨å“ªä¸ªåˆ†ç‰‡ä¸­å‘¢?</p><p>è¿™ä¸ªè¿‡ç¨‹æ˜¯æ ¹æ®è·¯ç”±å…¬å¼æ¥å†³å®šçš„:</p><p>routing æ˜¯ä¸€ä¸ªå¯ä»¥é…ç½®çš„å˜é‡,é»˜è®¤æ˜¯ä½¿ç”¨æ–‡æ¡£çš„ idã€‚å¯¹ routingå–å“ˆå¸Œå†é™¤ä»¥number_of_primary_shards(ç´¢å¼•åˆ›å»ºæ—¶æŒ‡å®šçš„åˆ†ç‰‡æ€»æ•°)å¾—åˆ°çš„ä½™æ•°å°±æ˜¯å¯¹åº”çš„åˆ†ç‰‡ã€‚</p><p>å½“ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚åˆ°è¾¾ <strong>ä»…åè°ƒèŠ‚ç‚¹ï¼ˆcoordinating only nodeï¼‰</strong> åï¼Œä»…åè°ƒèŠ‚ç‚¹ä¼šæ ¹æ®è·¯ç”±å…¬å¼è®¡ç®—å‡ºç›®æ ‡åˆ†ç‰‡ï¼Œç„¶åå†å°†è¯·æ±‚è½¬å‘åˆ°ç›®æ ‡åˆ†ç‰‡çš„ä¸»åˆ†ç‰‡èŠ‚ç‚¹ä¸Šã€‚</p><p>ä¸Šé¢å…¬å¼ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨åˆ›å»ºç´¢å¼•çš„æ—¶å€™å°±ç¡®å®šå¥½ä¸»åˆ†ç‰‡çš„æ•°é‡ï¼Œå¹¶ä¸”ä¸å…è®¸æ”¹å˜ç´¢å¼•åˆ†ç‰‡æ•°ã€‚å› ä¸ºå¦‚æœæ•°é‡å˜åŒ–äº†, é‚£ä¹ˆæ‰€æœ‰ä¹‹å‰è·¯ç”±çš„è®¡ç®—å€¼éƒ½ä¼šæ— æ•ˆï¼Œæ–‡æ¡£ä¹Ÿå†ä¹Ÿæ‰¾ä¸åˆ°äº†ã€‚</p><h3 id="è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„" aria-hidden="true">#</a> è‡ªå®šä¹‰è·¯ç”±æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</h3><p>é»˜è®¤çš„è·¯ç”±è§„åˆ™ä¼šå°½é‡ä¿è¯æ•°æ®ä¼šå‡åŒ€åœ°ä¿å­˜åˆ°æ¯ä¸€ä¸ªåˆ†ç‰‡ä¸Šé¢ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä¸€æ—¦æŸä¸ªåˆ†ç‰‡å‡ºäº†æ•…éšœï¼ŒES é›†ç¾¤é‡Œçš„ä»»ä½•ç´¢å¼•éƒ½ä¸ä¼šå‡ºç°ä¸€ä¸ªæ–‡æ¡£éƒ½æŸ¥ä¸åˆ°çš„æƒ…å†µï¼Œæ‰€æœ‰ç´¢å¼•éƒ½åªä¼šä¸¢å¤±æ•…éšœåˆ†ç‰‡ä¸Šé¢å­˜å‚¨çš„æ–‡æ¡£è€Œå·²ï¼Œè¿™ä¸ªç»™ä¿®å¤æ•…éšœåˆ†ç‰‡äº‰å–äº†æ—¶é—´ã€‚</p><p>ä¸è¿‡ï¼Œè¿™ç§è·¯ç”±è§„åˆ™ä¹Ÿæœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œæ–‡æ¡£å‡åŒ€åˆ†é…åˆ°å¤šä¸ªåˆ†ç‰‡ä¸Šé¢äº†ï¼Œæ‰€ä»¥æ¯æ¬¡æŸ¥è¯¢ç´¢å¼•ç»“æœéƒ½éœ€è¦å‘å¤šä¸ªåˆ†ç‰‡å‘é€è¯·æ±‚ï¼Œç„¶åå†å°†è¿™äº›åˆ†ç‰‡è¿”å›çš„ç»“æœèåˆåˆ°ä¸€èµ·è¿”å›åˆ°ç»ˆç«¯ã€‚å¾ˆæ˜¾ç„¶è¿™æ ·ä¸€æ¥ç³»ç»Ÿçš„å‹åŠ›å°±ä¼šå¢å¤§å¾ˆå¤šï¼Œå¦‚æœç´¢å¼•æ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œæ•ˆç‡ä¼šéå¸¸å·®ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦è®©æŸä¸€ç±»å‹çš„æ–‡æ¡£éƒ½è¢«å­˜å‚¨åˆ°åŒä¸€åˆ†ç‰‡çš„è¯ï¼Œå¯ä»¥è‡ªå®šä¹‰è·¯ç”±è§„åˆ™ã€‚æ‰€æœ‰çš„æ–‡æ¡£ API è¯·æ±‚(get,index,delete,bulk,update)éƒ½æ¥å—ä¸€ä¸ªå«åš routing çš„è·¯ç”±å‚æ•°ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æ–‡æ¡£åˆ°æ•°æ®åˆ†ç‰‡çš„æ˜ å°„è§„åˆ™ã€‚</p><h3 id="å¦‚ä½•æŸ¥çœ‹-elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æŸ¥çœ‹-elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€" aria-hidden="true">#</a> å¦‚ä½•æŸ¥çœ‹ Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€ï¼Ÿ</h3><p>åœ¨ Kibana æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹é›†ç¾¤çš„å¥åº·çŠ¶æ€ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>GET <span class="token operator">/</span>_cluster<span class="token operator">/</span>health
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿”å›å¦‚ä¸‹ç»“æœã€‚</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;cluster_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;es-cn-45xxxxxxxxxxxxk1q&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timed_out&quot;</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;number_of_nodes&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;number_of_data_nodes&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;active_primary_shards&quot;</span> <span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token property">&quot;active_shards&quot;</span> <span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
  <span class="token property">&quot;relocating_shards&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;initializing_shards&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unassigned_shards&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delayed_unassigned_shards&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;number_of_pending_tasks&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;number_of_in_flight_fetch&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;task_max_waiting_in_queue_millis&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;active_shards_percent_as_number&quot;</span> <span class="token operator">:</span> <span class="token number">100.0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥å£è¿”å›å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š</p><table><thead><tr><th>æŒ‡æ ‡</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>cluster_name</td><td>é›†ç¾¤çš„åç§°</td></tr><tr><td>status</td><td>é›†ç¾¤çš„è¿è¡ŒçŠ¶å†µï¼ŒåŸºäºå…¶ä¸»è¦å’Œå‰¯æœ¬åˆ†ç‰‡çš„çŠ¶æ€ã€‚</td></tr><tr><td>timed_out</td><td>å¦‚æœ false å“åº”åœ¨ timeout å‚æ•°æŒ‡å®šçš„æ—¶é—´æ®µå†…è¿”å›ï¼ˆ30s é»˜è®¤æƒ…å†µä¸‹ï¼‰</td></tr><tr><td>number_of_nodes</td><td>é›†ç¾¤ä¸­çš„èŠ‚ç‚¹æ•°</td></tr><tr><td>number_of_data_nodes</td><td>ä½œä¸ºä¸“ç”¨æ•°æ®èŠ‚ç‚¹çš„èŠ‚ç‚¹æ•°</td></tr><tr><td>active_primary_shards</td><td>æ´»åŠ¨ä¸»åˆ†åŒºçš„æ•°é‡</td></tr><tr><td>active_shards</td><td>æ´»åŠ¨ä¸»åˆ†åŒºå’Œå‰¯æœ¬åˆ†åŒºçš„æ€»æ•°</td></tr><tr><td>relocating_shards</td><td>æ­£åœ¨é‡å®šä½çš„åˆ†ç‰‡çš„æ•°é‡</td></tr><tr><td>initializing_shards</td><td>æ­£åœ¨åˆå§‹åŒ–çš„åˆ†ç‰‡æ•°</td></tr><tr><td>unassigned_shards</td><td>æœªåˆ†é…çš„åˆ†ç‰‡æ•°</td></tr><tr><td>delayed_unassigned_shards</td><td>å…¶åˆ†é…å› è¶…æ—¶è®¾ç½®è€Œå»¶è¿Ÿçš„åˆ†ç‰‡æ•°</td></tr><tr><td>number_of_pending_tasks</td><td>å°šæœªæ‰§è¡Œçš„é›†ç¾¤çº§åˆ«æ›´æ”¹çš„æ•°é‡</td></tr><tr><td>number_of_in_flight_fetch</td><td>æœªå®Œæˆçš„è®¿å­˜æ•°é‡</td></tr><tr><td>task_max_waiting_in_queue_millis</td><td>è‡ªæœ€æ—©çš„åˆå§‹åŒ–ä»»åŠ¡ç­‰å¾…æ‰§è¡Œä»¥æ¥çš„æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰</td></tr><tr><td>active_shards_percent_as_number</td><td>ç¾¤é›†ä¸­æ´»åŠ¨ç¢ç‰‡çš„æ¯”ç‡ï¼Œä»¥ç™¾åˆ†æ¯”è¡¨ç¤º</td></tr></tbody></table><h3 id="elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§" tabindex="-1"><a class="header-anchor" href="#elasticsearch-é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§" aria-hidden="true">#</a> Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€æœ‰å“ªå‡ ç§ï¼Ÿ</h3><p>Elasticsearch é›†ç¾¤å¥åº·çŠ¶æ€åˆ†ä¸ºä¸‰ç§ï¼š</p><ul><li><strong>GREEN</strong> ï¼ˆå¥åº·çŠ¶æ€ï¼‰ï¼šæœ€å¥åº·çš„çŠ¶æ€ï¼Œé›†ç¾¤ä¸­çš„ä¸»åˆ†ç‰‡å’Œå‰¯æœ¬åˆ†ç‰‡éƒ½å¯ç”¨ã€‚</li><li><strong>YELLOW</strong> ï¼ˆé¢„è­¦çŠ¶æ€ï¼‰ï¼šä¸»åˆ†ç‰‡éƒ½å¯ç”¨ï¼Œä½†å­˜åœ¨å‰¯æœ¬åˆ†ç‰‡ä¸å¯èƒ½ã€‚</li><li><strong>RED</strong> ï¼ˆå¼‚å¸¸çŠ¶æ€ï¼‰ï¼šå­˜åœ¨ä¸å¯ç”¨çš„ä¸»åˆ†ç‰‡ï¼Œæœç´¢ç»“æœå¯èƒ½ä¼šä¸å®Œæ•´ã€‚</li></ul><h3 id="å¦‚ä½•åˆ†æ-elasticsearch-é›†ç¾¤å¼‚å¸¸é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•åˆ†æ-elasticsearch-é›†ç¾¤å¼‚å¸¸é—®é¢˜" aria-hidden="true">#</a> å¦‚ä½•åˆ†æ Elasticsearch é›†ç¾¤å¼‚å¸¸é—®é¢˜ï¼Ÿ</h3><p>1ã€æ‰¾åˆ°å¼‚å¸¸ç´¢å¼•</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥çœ‹ç´¢å¼•æƒ…å†µå¹¶æ ¹æ®è¿”å›æ‰¾åˆ°çŠ¶æ€å¼‚å¸¸çš„ç´¢å¼•</span>
GET <span class="token operator">/</span>_cat<span class="token operator">/</span>indices?v<span class="token operator">&amp;</span>health<span class="token operator">=</span>yellow
GET <span class="token operator">/</span>_cat<span class="token operator">/</span>indices?v<span class="token operator">&amp;</span>health<span class="token operator">=</span>red
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ã€æŸ¥çœ‹è¯¦ç»†çš„å¼‚å¸¸ä¿¡æ¯</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>GET <span class="token operator">/</span>_cluster<span class="token operator">/</span>allocation<span class="token operator">/</span><span class="token keyword">explain</span>
æˆ–è€…
GET <span class="token operator">/</span>_cluster<span class="token operator">/</span>allocation<span class="token operator">/</span><span class="token keyword">explain</span>?pretty
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡å¼‚å¸¸ä¿¡æ¯è¿›ä¸€æ­¥åˆ†æé—®é¢˜çš„åŸå› ã€‚</p><h2 id="æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½ä¼˜åŒ–" aria-hidden="true">#</a> æ€§èƒ½ä¼˜åŒ–</h2><h3 id="elasticsearch-å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®" tabindex="-1"><a class="header-anchor" href="#elasticsearch-å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®" aria-hidden="true">#</a> Elasticsearch å¦‚ä½•é€‰æ‹©ç¡¬ä»¶é…ç½®ï¼Ÿ</h3><ul><li>éƒ¨ç½² Elasticsearch å¯¹äºæœºå™¨çš„ CPU è¦æ±‚å¹¶ä¸é«˜ï¼Œé€šå¸¸é€‰æ‹© 2 æ ¸æˆ–è€… 4 æ ¸çš„å°±å·®ä¸å¤šäº†ã€‚</li><li>Elasticsearch ä¸­çš„å¾ˆå¤šæ“ä½œæ˜¯æ¯”è¾ƒæ¶ˆè€—å†…å­˜çš„ï¼Œå¦‚æœæœç´¢éœ€æ±‚æ¯”è¾ƒå¤§çš„è¯ï¼Œå»ºè®®é€‰æ‹© 16GB ä»¥ä¸Šçš„å†…å­˜ã€‚å…·ä½“å¦‚ä½•åˆ†é…å†…å­˜å‘¢ï¼Ÿé€šå¸¸æ˜¯ 50% ç»™ ESï¼Œ50% ç•™ç»™ Luceneã€‚å¦å¤–ï¼Œå»ºè®®ç¦æ­¢ swapã€‚å¦‚æœä¸ç¦æ­¢çš„è¯ï¼Œå½“å†…å­˜è€—å°½æ—¶ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨æŠŠå†…å­˜ä¸­æš‚æ—¶ä¸ä½¿ç”¨çš„æ•°æ®äº¤æ¢åˆ°ç¡¬ç›˜ä¸­ï¼Œéœ€è¦ä½¿ç”¨çš„æ—¶å€™å†ä»ç¡¬ç›˜äº¤æ¢åˆ°å†…å­˜ï¼Œé¢‘ç¹ç¡¬ç›˜æ“ä½œå¯¹æ€§èƒ½å½±å“æ˜¯è‡´å‘½çš„ã€‚</li><li>ç£ç›˜çš„é€Ÿåº¦ç›¸å¯¹æ¯”è¾ƒæ…¢ï¼Œå°½é‡ä½¿ç”¨å›ºæ€ç¡¬ç›˜ï¼ˆSSDï¼‰ã€‚</li></ul><h3 id="elasticsearch-ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#elasticsearch-ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" aria-hidden="true">#</a> Elasticsearch ç´¢å¼•ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</h3><ul><li>ES æä¾›äº† Bulk API æ”¯æŒæ‰¹é‡æ“ä½œï¼Œå½“æˆ‘ä»¬æœ‰å¤§é‡çš„å†™ä»»åŠ¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Bulk æ¥è¿›è¡Œæ‰¹é‡å†™å…¥ã€‚ä¸è¿‡ï¼Œä½¿ç”¨ Bulk è¯·æ±‚æ—¶ï¼Œæ¯ä¸ªè¯·æ±‚å°½é‡ä¸è¦è¶…è¿‡å‡ å Mï¼Œå› ä¸ºå¤ªå¤§ä¼šå¯¼è‡´å†…å­˜ä½¿ç”¨è¿‡å¤§ã€‚</li><li>ES é»˜è®¤å‰¯æœ¬æ•°é‡ä¸º 3 ä¸ªï¼Œè¿™æ ·å¯ä»¥æé«˜å¯ç”¨æ€§ï¼Œä½†ä¼šå½±å“å†™å…¥ç´¢å¼•çš„æ•ˆç‡ã€‚æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå¯ä»¥è®¾ç½®å‰¯æœ¬æ•°é‡ä¸º 1 æˆ–è€… 0ï¼Œæé«˜å†™å…¥ç´¢å¼•çš„æ•ˆç‡ã€‚</li><li>ES åœ¨å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œé‡‡ç”¨å»¶è¿Ÿå†™å…¥çš„ç­–ç•¥ï¼Œé»˜è®¤ 1 ç§’ä¹‹åå°†å†…å­˜ä¸­ segment æ•°æ®åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œæ­¤æ—¶æˆ‘ä»¬æ‰èƒ½å°†æ•°æ®æœç´¢å‡ºæ¥ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Elasticsearch æä¾›çš„æ˜¯è¿‘å®æ—¶æœç´¢åŠŸèƒ½ã€‚æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå¯ä»¥å¢åŠ åˆ·æ–°æ—¶é—´é—´éš”æ¯”å¦‚è®¾ç½®åˆ·æ–°æ—¶é—´é—´éš”ä¸º 30s(index.refresh_interval=30s)ï¼Œå‡å°‘ segment åˆå¹¶å‹åŠ›ï¼Œæé«˜å†™å…¥ç´¢å¼•çš„æ•ˆç‡ã€‚</li><li>åŠ å¤§ index_buffer_sizeï¼Œè¿™ä¸ªæ˜¯ ES æ´»è·ƒåˆ†ç‰‡å…±äº«çš„å†…å­˜åŒºï¼Œå®˜æ–¹å»ºè®®æ¯ä¸ªåˆ†ç‰‡è‡³å°‘ 512MBï¼Œä¸”ä¸º JVM å†…å­˜çš„ 10%ã€‚</li><li>ä½¿ç”¨ ES çš„é»˜è®¤ ID ç”Ÿæˆç­–ç•¥æˆ–ä½¿ç”¨æ•°å­—ç±»å‹ ID åšä¸ºä¸»é”®ã€‚</li><li>åˆç†çš„é…ç½®ä½¿ç”¨ index å±æ€§ï¼Œanalyzed å’Œ not_analyzedï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥æ§åˆ¶å­—æ®µæ˜¯å¦åˆ†è¯æˆ–ä¸åˆ†è¯ã€‚åªæœ‰ groupby éœ€æ±‚çš„å­—æ®µï¼Œé…ç½®æ—¶å°±è®¾ç½®æˆ not_analyzedï¼Œä»¥æé«˜æŸ¥è¯¢æˆ–èšç±»çš„æ•ˆç‡ã€‚</li><li>åŠ å¤§ Flush è®¾ç½®ã€‚ Flush çš„ä¸»è¦ç›®çš„æ˜¯æŠŠæ–‡ä»¶ç¼“å­˜ç³»ç»Ÿä¸­çš„æ®µæŒä¹…åŒ–åˆ°ç¡¬ç›˜ï¼Œå½“ Translog çš„æ•°æ®é‡è¾¾åˆ° 512MB æˆ–è€… 30 åˆ†é’Ÿæ—¶ï¼Œä¼šè§¦å‘ä¸€æ¬¡ Flushï¼Œæˆ‘ä»¬å¯ä»¥åŠ å¤§ index.translog.flush_threshold_size ï¼Œä½†å¿…é¡»ä¸ºæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç¼“å­˜ç³»ç»Ÿç•™ä¸‹è¶³å¤Ÿçš„ç©ºé—´ã€‚</li><li>......</li></ul><h3 id="elasticsearch-æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#elasticsearch-æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›" aria-hidden="true">#</a> Elasticsearch æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</h3><ul><li><p>å»ºç«‹å†·çƒ­ç´¢å¼•åº“ï¼ˆå¯ç”¨å›ºæ€ç¡¬ç›˜å­˜æ”¾çƒ­åº“æ•°æ®ï¼Œæ™®é€šç¡¬ç›˜å­˜æ”¾å†·åº“æ•°æ®ï¼‰ï¼Œçƒ­åº“æ•°æ®å¯ä»¥æå‰é¢„çƒ­åŠ è½½è‡³å†…å­˜ï¼Œæé«˜æ£€ç´¢æ•ˆç‡ã€‚</p></li><li><p>è‡ªå®šä¹‰è·¯ç”±è§„åˆ™ï¼Œè®©æŸä¸€ç±»å‹çš„æ–‡æ¡£éƒ½è¢«å­˜å‚¨åˆ°åŒä¸€åˆ†ç‰‡ã€‚</p></li><li><p>ä½¿ç”¨ copy_to å°†å¤šä¸ªå­—æ®µæ•´åˆä¸ºä¸€ä¸ªã€‚</p></li><li><p>æ§åˆ¶å­—æ®µçš„æ•°é‡ï¼Œä¸šåŠ¡ä¸­ä¸ä½¿ç”¨çš„å­—æ®µï¼Œå°±ä¸è¦ç´¢å¼•ã€‚</p></li><li><p>ä¸è¦è¿”å›æ— ç”¨çš„å­—æ®µï¼Œä½¿ç”¨ _source è¿›è¡ŒæŒ‡å®šã€‚</p></li><li><p>é¿å…å¤§å‹æ–‡æ¡£å­˜å‚¨ï¼Œé»˜è®¤æœ€å¤§é•¿åº¦ä¸º 100MBã€‚</p></li><li><p>ä½¿ç”¨keywordæ•°æ®ç±»å‹ï¼Œè¯¥ç±»å‹ä¸ä¼šèµ°åˆ†è¯å™¨ï¼Œæ•ˆç‡å¤§å¤§æé«˜ã€‚</p></li><li><p>å¼€å¯æ…¢æŸ¥è¯¢é…ç½®å®šä½æ…¢æŸ¥è¯¢ã€‚</p></li><li><p>ES æŸ¥è¯¢çš„æ—¶å€™ï¼Œä½¿ç”¨ filter æŸ¥è¯¢ä¼šä½¿ç”¨ query cache, å¦‚æœä¸šåŠ¡åœºæ™¯ä¸­çš„è¿‡æ»¤æŸ¥è¯¢æ¯”è¾ƒå¤šï¼Œå»ºè®®å°† querycache è®¾ç½®å¤§ä¸€äº›ï¼Œä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚</p></li><li><p>å°½é‡é¿å…åˆ†é¡µè¿‡æ·±ã€‚ å¢åŠ åˆ†ç‰‡å‰¯æœ¬æé«˜æŸ¥è¯¢ååé‡ï¼Œé¿å…ä½¿ç”¨é€šé…ç¬¦ã€‚</p></li><li><p>åŠ å¤§å †å†…å­˜ï¼ŒES é»˜è®¤å®‰è£…åè®¾ç½®çš„å†…å­˜æ˜¯ 1GBï¼Œå¯ä»¥é€‚å½“åŠ å¤§ä½†ä¸è¦è¶…è¿‡ç‰©ç†å†…å­˜çš„ 50%ï¼Œä¸”æœ€å¥½ä¸è¦è¶…è¿‡ 32GBã€‚</p></li><li><p>åˆ†é…ä¸€åŠç‰©ç†å†…å­˜ç»™æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œä»¥ä¾¿åŠ è½½çƒ­ç‚¹æ•°æ®ã€‚</p></li><li><p>......</p></li><li><h2 id="æ–‡ç« æ¨è" tabindex="-1"><a class="header-anchor" href="#æ–‡ç« æ¨è" aria-hidden="true">#</a> æ–‡ç« æ¨è</h2></li></ul><p>â—<a href="https://tech.meituan.com/2022/11/17/elasicsearch-optimization-practice-based-on-run-length-encoding.html" target="_blank" rel="noopener noreferrer">ç¾å›¢å¤–å–æœç´¢åŸºäº Elasticsearch çš„ä¼˜åŒ–å®è·µ - ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ - 2022<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> â—<a href="https://cloud.tencent.com/developer/inventory/15367/article/1803943" target="_blank" rel="noopener noreferrer">Elasticsearch å®æˆ˜ç³»åˆ— - è…¾è®¯å¤§æ•°æ® SRE å·¥ç¨‹å¸ˆ - 2022<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> â—<a href="https://juejin.cn/post/7073333873492361230" target="_blank" rel="noopener noreferrer">ç”±æµ…åˆ°æ·±ï¼Œå…¥é—¨æœç´¢åŸç† - æ˜é‡‘ - 2022<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> â—<a href="https://juejin.cn/post/7134855425714815012" target="_blank" rel="noopener noreferrer">ElasticSearch æ–‡æ¡£åˆ†å€¼ score è®¡ç®—&amp;èšåˆæœç´¢æ¡ˆä¾‹åˆ†æ - æ”¿é‡‡äº‘æŠ€æœ¯å›¢é˜Ÿ - 2022<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> â—<a href="https://segmentfault.com/a/1190000037658997" target="_blank" rel="noopener noreferrer">Elasticsearch å¦‚ä½•åšåˆ°å¿«é€Ÿæ£€ç´¢ - å€’æ’ç´¢å¼•çš„ç§˜å¯† - æ€å¦ - 2020<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> â—<a href="https://www.cnblogs.com/jajian/p/11223992.html" target="_blank" rel="noopener noreferrer">Elasticsearch æŠ€æœ¯åˆ†æï¼ˆä¹ï¼‰ï¼šå…¨æ–‡æœç´¢å¼•æ“ Elasticsearchï¼Œè¿™ç¯‡æ–‡ç« ç»™è®²é€äº†ï¼ - åšå®¢å›­ - 2019<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h2><ul><li>Elasticsearch å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-intro.html" target="_blank" rel="noopener noreferrer">https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-intro.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Elasticsearch ä¸­æ–‡æŒ‡å—ï¼š<a href="https://endymecy.gitbooks.io/elasticsearch-guide-chinese/content/index.html" target="_blank" rel="noopener noreferrer">https://endymecy.gitbooks.io/elasticsearch-guide-chinese/content/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Mastering Elasticsearch(ä¸­æ–‡ç‰ˆ)ï¼š<a href="https://doc.yonyoucloud.com/doc/mastering-elasticsearch/index.html" target="_blank" rel="noopener noreferrer">https://doc.yonyoucloud.com/doc/mastering-elasticsearch/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Elasticsearch Service ç›¸å…³æ¦‚å¿µ - è…¾è®¯äº‘ï¼š<a href="https://cloud.tencent.com/document/product/845/32086" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/document/product/845/32086<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Node - Elasticsearch å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html" target="_blank" rel="noopener noreferrer">https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>å€’æ’ç´¢å¼•å’Œæ­£æ’ç´¢å¼•ï¼š<a href="https://www.cnblogs.com/seaspring/p/14158851.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/seaspring/p/14158851.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Elasticsearch æœ‰æ²¡æœ‰æ•°ç»„ç±»å‹ï¼Ÿæœ‰å“ªäº›å‘ï¼Ÿï¼š<a href="https://mp.weixin.qq.com/s/FCjrn609vYU-URlhVfjD7A" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/FCjrn609vYU-URlhVfjD7A<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Elasticsearch å®ç°åŸºäºæ‹¼éŸ³æœç´¢ï¼š<a href="https://www.cnblogs.com/huan1993/p/17053317.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/huan1993/p/17053317.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Elasticsearch æŸ¥è¯¢è¯­å¥è¯­æ³•è¯¦è§£ ï¼š<a href="https://www.cnblogs.com/Gaimo/p/16036853.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/Gaimo/p/16036853.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>ã€ŠElasticsearch æƒå¨æŒ‡å—ã€‹- é›†ç¾¤å†…çš„åŸç†ï¼š<a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/distributed-cluster.html" target="_blank" rel="noopener noreferrer">https://www.elastic.co/guide/cn/elasticsearch/guide/current/distributed-cluster.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Elasticsearch åˆ†å¸ƒå¼è·¯ç”±ç­–ç•¥ï¼š<a href="https://zhuanlan.zhihu.com/p/386368763" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/386368763<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>How to Choose the Correct Number of Shards per Index in Elasticsearchï¼š<a href="https://opster.com/guides/elasticsearch/capacity-planning/elasticsearch-number-of-shards/" target="_blank" rel="noopener noreferrer">https://opster.com/guides/elasticsearch/capacity-planning/elasticsearch-number-of-shards/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Elasticsearch é›†ç¾¤å¼‚å¸¸çŠ¶æ€ï¼ˆREDã€YELLOWï¼‰åŸå› åˆ†æï¼š<a href="https://cloud.tencent.com/developer/article/1803943" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1803943<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>è¶…è¯¦ç»†çš„ Elasticsearch é«˜æ€§èƒ½ä¼˜åŒ–å®è·µ ï¼š<a href="https://cloud.tencent.com/developer/article/1436787" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1436787<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/diving-cloud/diving-cloud.github.io/edit/main/docs/database/elasticsearch/elasticsearch-questions-01.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zongkuihe@gmail.com">hezongkui</span>,<!--]--><!--[--><span class="contributor" title="email: koushuangbwcx@163.com">Guide</span>,<!--]--><!--[--><span class="contributor" title="email: 43922483+diving-cloud@users.noreply.github.com">diving-cloud</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><!----><div class="copyright">Copyright Â© 2023 winter</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-9fa3d026.js" defer></script>
  </body>
</html>
